"function"!==typeof Object.create&&(Object.create=function(c,a){function b(){}if("object"!=typeof c)throw new TypeError("Object prototype may only be an Object or null");b.prototype=c;var d=new b;b.prototype=null;if("object"===typeof a){var e=Object.prototype.hasOwnProperty;for(prop in a)e.call(a,prop)&&(d[prop]=a[prop])}return d});
;var tagcade=tagcade||{};
tagcade.lib=tagcade.lib||function(){(function(){function E(e,g){function h(b){if(h[b]!==v)return h[b];var f;if("bug-string-char-index"==b)f="a"!="a"[0];else if("json"==b)f=h("json-stringify")&&h("json-parse");else{var c;if("json-stringify"==b){f=g.stringify;var q="function"==typeof f&&F;if(q){(c=function(){return 1}).toJSON=c;try{q="0"===f(0)&&"0"===f(new l)&&'""'==f(new K)&&f(z)===v&&f(v)===v&&f()===v&&"1"===f(c)&&"[1]"==f([c])&&"[null]"==f([v])&&"null"==f(null)&&"[null,null,null]"==f([v,z,null])&&
'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==f({a:[c,!0,!1,null,"\x00\b\n\f\r\t"]})&&"1"===f(null,c)&&"[\n 1,\n 2\n]"==f([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==f(new a(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==f(new a(864E13))&&'"-000001-01-01T00:00:00.000Z"'==f(new a(-621987552E5))&&'"1969-12-31T23:59:59.999Z"'==f(new a(-1))}catch(d){q=!1}}f=q}if("json-parse"==b){f=g.parse;if("function"==typeof f)try{if(0===f("0")&&!f(!1)){c=f('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');
var s=5==c.a.length&&1===c.a[0];if(s){try{s=!f('"\t"')}catch(m){}if(s)try{s=1!==f("01")}catch(H){}if(s)try{s=1!==f("1.")}catch(r){}}}}catch(e){s=!1}f=s}}return h[b]=!!f}e||(e=t.Object());g||(g=t.Object());var l=e.Number||t.Number,K=e.String||t.String,n=e.Object||t.Object,a=e.Date||t.Date,d=e.SyntaxError||t.SyntaxError,m=e.TypeError||t.TypeError,x=e.Math||t.Math,k=e.JSON||t.JSON;"object"==typeof k&&k&&(g.stringify=k.stringify,g.parse=k.parse);var n=n.prototype,z=n.toString,y,c,v,F=new a(-0xc782b5b800cec);
try{F=-109252==F.getUTCFullYear()&&0===F.getUTCMonth()&&1===F.getUTCDate()&&10==F.getUTCHours()&&37==F.getUTCMinutes()&&6==F.getUTCSeconds()&&708==F.getUTCMilliseconds()}catch(D){}if(!h("json")){var L=h("bug-string-char-index");if(!F)var G=x.floor,C=[0,31,59,90,120,151,181,212,243,273,304,334],w=function(b,f){return C[f]+365*(b-1970)+G((b-1969+(f=+(1<f)))/4)-G((b-1901+f)/100)+G((b-1601+f)/400)};(y=n.hasOwnProperty)||(y=function(b){var f={},c;(f.__proto__=null,f.__proto__={toString:1},f).toString!=
z?y=function(b){var f=this.__proto__;b=b in(this.__proto__=null,this);this.__proto__=f;return b}:(c=f.constructor,y=function(b){var f=(this.constructor||c).prototype;return b in this&&!(b in f&&this[b]===f[b])});f=null;return y.call(this,b)});c=function(b,f){var a=0,q,d,s;(q=function(){this.valueOf=0}).prototype.valueOf=0;d=new q;for(s in d)y.call(d,s)&&a++;q=d=null;a?c=2==a?function(b,f){var c={},a="[object Function]"==z.call(b),q;for(q in b)a&&"prototype"==q||y.call(c,q)||!(c[q]=1)||!y.call(b,q)||
f(q)}:function(b,f){var c="[object Function]"==z.call(b),a,q;for(a in b)c&&"prototype"==a||!y.call(b,a)||(q="constructor"===a)||f(a);(q||y.call(b,a="constructor"))&&f(a)}:(d="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),c=function(b,f){var c="[object Function]"==z.call(b),a,q=!c&&"function"!=typeof b.constructor&&u[typeof b.hasOwnProperty]&&b.hasOwnProperty||y;for(a in b)c&&"prototype"==a||!q.call(b,a)||f(a);for(c=d.length;a=d[--c];q.call(b,
a)&&f(a));});return c(b,f)};if(!h("json-stringify")){var M={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},I=function(b,f){return("000000"+(f||0)).slice(-b)},P=function(b){for(var f='"',c=0,a=b.length,q=!L||10<a,d=q&&(L?b.split(""):b);c<a;c++){var s=b.charCodeAt(c);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:f+=M[s];break;default:if(32>s){f+="\\u00"+I(2,s.toString(16));break}f+=q?d[c]:b.charAt(c)}}return f+'"'},N=function(b,f,a,q,d,s,H){var r,e,k,g,h,x,p,n,l;try{r=
f[b]}catch(A){}if("object"==typeof r&&r)if(e=z.call(r),"[object Date]"!=e||y.call(r,"toJSON"))"function"==typeof r.toJSON&&("[object Number]"!=e&&"[object String]"!=e&&"[object Array]"!=e||y.call(r,"toJSON"))&&(r=r.toJSON(b));else if(r>-1/0&&r<1/0){if(w){g=G(r/864E5);for(e=G(g/365.2425)+1970-1;w(e+1,0)<=g;e++);for(k=G((g-w(e,0))/30.42);w(e,k+1)<=g;k++);g=1+g-w(e,k);h=(r%864E5+864E5)%864E5;x=G(h/36E5)%24;p=G(h/6E4)%60;n=G(h/1E3)%60;h%=1E3}else e=r.getUTCFullYear(),k=r.getUTCMonth(),g=r.getUTCDate(),
x=r.getUTCHours(),p=r.getUTCMinutes(),n=r.getUTCSeconds(),h=r.getUTCMilliseconds();r=(0>=e||1E4<=e?(0>e?"-":"+")+I(6,0>e?-e:e):I(4,e))+"-"+I(2,k+1)+"-"+I(2,g)+"T"+I(2,x)+":"+I(2,p)+":"+I(2,n)+"."+I(3,h)+"Z"}else r=null;a&&(r=a.call(f,b,r));if(null===r)return"null";e=z.call(r);if("[object Boolean]"==e)return""+r;if("[object Number]"==e)return r>-1/0&&r<1/0?""+r:"null";if("[object String]"==e)return P(""+r);if("object"==typeof r){for(b=H.length;b--;)if(H[b]===r)throw m();H.push(r);l=[];f=s;s+=d;if("[object Array]"==
e){k=0;for(b=r.length;k<b;k++)e=N(k,r,a,q,d,s,H),l.push(e===v?"null":e);b=l.length?d?"[\n"+s+l.join(",\n"+s)+"\n"+f+"]":"["+l.join(",")+"]":"[]"}else c(q||r,function(b){var f=N(b,r,a,q,d,s,H);f!==v&&l.push(P(b)+":"+(d?" ":"")+f)}),b=l.length?d?"{\n"+s+l.join(",\n"+s)+"\n"+f+"}":"{"+l.join(",")+"}":"{}";H.pop();return b}};g.stringify=function(b,f,c){var a,q,d,s;if(u[typeof f]&&f)if("[object Function]"==(s=z.call(f)))q=f;else if("[object Array]"==s){d={};for(var r=0,H=f.length,e;r<H;e=f[r++],(s=z.call(e),
"[object String]"==s||"[object Number]"==s)&&(d[e]=1));}if(c)if("[object Number]"==(s=z.call(c))){if(0<(c-=c%1))for(a="",10<c&&(c=10);a.length<c;a+=" ");}else"[object String]"==s&&(a=10>=c.length?c:c.slice(0,10));return N("",(e={},e[""]=b,e),q,d,a,"",[])}}if(!h("json-parse")){var T=K.fromCharCode,U={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},p,b,f=function(){p=b=null;throw d();},q=function(){for(var c=b,a=c.length,q,d,s,r,e;p<a;)switch(e=c.charCodeAt(p),e){case 9:case 10:case 13:case 32:p++;
break;case 123:case 125:case 91:case 93:case 58:case 44:return q=L?c.charAt(p):c[p],p++,q;case 34:q="@";for(p++;p<a;)if(e=c.charCodeAt(p),32>e)f();else if(92==e)switch(e=c.charCodeAt(++p),e){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:q+=U[e];p++;break;case 117:d=++p;for(s=p+4;p<s;p++)e=c.charCodeAt(p),48<=e&&57>=e||97<=e&&102>=e||65<=e&&70>=e||f();q+=T("0x"+c.slice(d,p));break;default:f()}else{if(34==e)break;e=c.charCodeAt(p);for(d=p;32<=e&&92!=e&&34!=e;)e=c.charCodeAt(++p);
q+=c.slice(d,p)}if(34==c.charCodeAt(p))return p++,q;f();default:d=p;45==e&&(r=!0,e=c.charCodeAt(++p));if(48<=e&&57>=e){for(48==e&&(e=c.charCodeAt(p+1),48<=e&&57>=e)&&f();p<a&&(e=c.charCodeAt(p),48<=e&&57>=e);p++);if(46==c.charCodeAt(p)){for(s=++p;s<a&&(e=c.charCodeAt(s),48<=e&&57>=e);s++);s==p&&f();p=s}e=c.charCodeAt(p);if(101==e||69==e){e=c.charCodeAt(++p);43!=e&&45!=e||p++;for(s=p;s<a&&(e=c.charCodeAt(s),48<=e&&57>=e);s++);s==p&&f();p=s}return+c.slice(d,p)}r&&f();if("true"==c.slice(p,p+4))return p+=
4,!0;if("false"==c.slice(p,p+5))return p+=5,!1;if("null"==c.slice(p,p+4))return p+=4,null;f()}return"$"},s=function(b){var c,a;"$"==b&&f();if("string"==typeof b){if("@"==(L?b.charAt(0):b[0]))return b.slice(1);if("["==b){for(c=[];;a||(a=!0)){b=q();if("]"==b)break;a&&(","==b?(b=q(),"]"==b&&f()):f());","==b&&f();c.push(s(b))}return c}if("{"==b){for(c={};;a||(a=!0)){b=q();if("}"==b)break;a&&(","==b?(b=q(),"}"==b&&f()):f());","!=b&&"string"==typeof b&&"@"==(L?b.charAt(0):b[0])&&":"==q()||f();c[b.slice(1)]=
s(q())}return c}f()}return b},H=function(b,f,c){c=r(b,f,c);c===v?delete b[f]:b[f]=c},r=function(b,f,a){var q=b[f],d;if("object"==typeof q&&q)if("[object Array]"==z.call(q))for(d=q.length;d--;)H(q,d,a);else c(q,function(b){H(q,b,a)});return a.call(b,f,q)};g.parse=function(c,a){var d,e;p=0;b=""+c;d=s(q());"$"!=q()&&f();p=b=null;return a&&"[object Function]"==z.call(a)?r((e={},e[""]=d,e),"",a):d}}}g.runInContext=E;return g}var C="function"===typeof define&&define.amd,u={"function":!0,object:!0},h=u[typeof exports]&&
exports&&!exports.nodeType&&exports,t=u[typeof window]&&window||this,l=h&&u[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;!l||l.global!==l&&l.window!==l&&l.self!==l||(t=l);if(h&&!C)E(t,h);else{var D=t.JSON,w=t.JSON3,e=!1,g=E(t,t.JSON3={noConflict:function(){e||(e=!0,t.JSON=D,t.JSON3=w,D=w=null);return g}});t.JSON={parse:g.parse,stringify:g.stringify}}C&&define(function(){return g})}).call(this);var V={};(function(){(function(){var u=this,h=u._,t={},l=Array.prototype,D=
Object.prototype,w=l.push,e=l.slice,g=l.concat,A=D.toString,B=D.hasOwnProperty,J=l.forEach,O=l.map,K=l.reduce,n=l.reduceRight,a=l.filter,d=l.every,m=l.some,x=l.indexOf,k=l.lastIndexOf,D=Array.isArray,z=Object.keys,y=Function.prototype.bind,c=function(b){return b instanceof c?b:this instanceof c?void(this._wrapped=b):new c(b)};"undefined"!=typeof exports?("undefined"!=typeof C&&C.exports&&(exports=C.exports=c),exports._=c):u._=c;c.VERSION="1.6.0";var v=c.each=c.forEach=function(b,f,a){if(null==b)return b;
if(J&&b.forEach===J)b.forEach(f,a);else if(b.length===+b.length)for(var d=0,e=b.length;e>d;d++){if(f.call(a,b[d],d,b)===t)return}else for(var r=c.keys(b),d=0,e=r.length;e>d;d++)if(f.call(a,b[r[d]],r[d],b)===t)return;return b};c.map=c.collect=function(b,f,c){var a=[];return null==b?a:O&&b.map===O?b.map(f,c):(v(b,function(b,d,e){a.push(f.call(c,b,d,e))}),a)};c.reduce=c.foldl=c.inject=function(b,f,a,d){var e=2<arguments.length;if(null==b&&(b=[]),K&&b.reduce===K)return d&&(f=c.bind(f,d)),e?b.reduce(f,
a):b.reduce(f);if(v(b,function(b,c,m){e?a=f.call(d,a,b,c,m):(a=b,e=!0)}),!e)throw new TypeError("Reduce of empty array with no initial value");return a};c.reduceRight=c.foldr=function(b,f,a,d){var e=2<arguments.length;if(null==b&&(b=[]),n&&b.reduceRight===n)return d&&(f=c.bind(f,d)),e?b.reduceRight(f,a):b.reduceRight(f);var r=b.length;if(r!==+r)var m=c.keys(b),r=m.length;if(v(b,function(c,k,g){k=m?m[--r]:--r;e?a=f.call(d,a,b[k],k,g):(a=b[k],e=!0)}),!e)throw new TypeError("Reduce of empty array with no initial value");
return a};c.find=c.detect=function(b,f,c){var a;return F(b,function(b,d,e){return f.call(c,b,d,e)?(a=b,!0):void 0}),a};c.filter=c.select=function(b,f,c){var d=[];return null==b?d:a&&b.filter===a?b.filter(f,c):(v(b,function(b,a,e){f.call(c,b,a,e)&&d.push(b)}),d)};c.reject=function(b,f,a){return c.filter(b,function(b,c,d){return!f.call(a,b,c,d)},a)};c.every=c.all=function(b,f,a){f||(f=c.identity);var e=!0;return null==b?e:d&&b.every===d?b.every(f,a):(v(b,function(b,c,d){return(e=e&&f.call(a,b,c,d))?
void 0:t}),!!e)};var F=c.some=c.any=function(b,f,a){f||(f=c.identity);var d=!1;return null==b?d:m&&b.some===m?b.some(f,a):(v(b,function(b,c,e){return d||(d=f.call(a,b,c,e))?t:void 0}),!!d)};c.contains=c.include=function(b,f){return null==b?!1:x&&b.indexOf===x?-1!=b.indexOf(f):F(b,function(b){return b===f})};c.invoke=function(b,f){var a=e.call(arguments,2),d=c.isFunction(f);return c.map(b,function(b){return(d?f:b[f]).apply(b,a)})};c.pluck=function(b,f){return c.map(b,c.property(f))};c.where=function(b,
f){return c.filter(b,c.matches(f))};c.findWhere=function(b,f){return c.find(b,c.matches(f))};c.max=function(b,f,a){if(!f&&c.isArray(b)&&b[0]===+b[0]&&65535>b.length)return Math.max.apply(Math,b);var d=-1/0,e=-1/0;return v(b,function(b,c,m){c=f?f.call(a,b,c,m):b;c>e&&(d=b,e=c)}),d};c.min=function(b,f,a){if(!f&&c.isArray(b)&&b[0]===+b[0]&&65535>b.length)return Math.min.apply(Math,b);var d=1/0,e=1/0;return v(b,function(b,c,m){c=f?f.call(a,b,c,m):b;e>c&&(d=b,e=c)}),d};c.shuffle=function(b){var f,a=0,
d=[];return v(b,function(b){f=c.random(a++);d[a-1]=d[f];d[f]=b}),d};c.sample=function(b,f,a){return null==f||a?(b.length!==+b.length&&(b=c.values(b)),b[c.random(b.length-1)]):c.shuffle(b).slice(0,Math.max(0,f))};var Q=function(b){return null==b?c.identity:c.isFunction(b)?b:c.property(b)};c.sortBy=function(b,f,a){return f=Q(f),c.pluck(c.map(b,function(b,c,d){return{value:b,index:c,criteria:f.call(a,b,c,d)}}).sort(function(b,c){var f=b.criteria,a=c.criteria;if(f!==a){if(f>a||void 0===f)return 1;if(a>
f||void 0===a)return-1}return b.index-c.index}),"value")};var L=function(b){return function(c,a,d){var e={};return a=Q(a),v(c,function(m,k){var g=a.call(d,m,k,c);b(e,g,m)}),e}};c.groupBy=L(function(b,a,d){c.has(b,a)?b[a].push(d):b[a]=[d]});c.indexBy=L(function(b,c,a){b[c]=a});c.countBy=L(function(b,a){c.has(b,a)?b[a]++:b[a]=1});c.sortedIndex=function(b,a,c,d){c=Q(c);a=c.call(d,a);for(var e=0,m=b.length;m>e;){var k=e+m>>>1;c.call(d,b[k])<a?e=k+1:m=k}return e};c.toArray=function(b){return b?c.isArray(b)?
e.call(b):b.length===+b.length?c.map(b,c.identity):c.values(b):[]};c.size=function(b){return null==b?0:b.length===+b.length?b.length:c.keys(b).length};c.first=c.head=c.take=function(b,a,c){return null==b?void 0:null==a||c?b[0]:0>a?[]:e.call(b,0,a)};c.initial=function(b,a,c){return e.call(b,0,b.length-(null==a||c?1:a))};c.last=function(b,a,c){return null==b?void 0:null==a||c?b[b.length-1]:e.call(b,Math.max(b.length-a,0))};c.rest=c.tail=c.drop=function(b,a,c){return e.call(b,null==a||c?1:a)};c.compact=
function(b){return c.filter(b,c.identity)};var G=function(b,a,d){return a&&c.every(b,c.isArray)?g.apply(d,b):(v(b,function(b){c.isArray(b)||c.isArguments(b)?a?w.apply(d,b):G(b,a,d):d.push(b)}),d)};c.flatten=function(b,a){return G(b,a,[])};c.without=function(b){return c.difference(b,e.call(arguments,1))};c.partition=function(b,a){var c=[],d=[];return v(b,function(b){(a(b)?c:d).push(b)}),[c,d]};c.uniq=c.unique=function(b,a,d,e){c.isFunction(a)&&(e=d,d=a,a=!1);d=d?c.map(b,d,e):b;var m=[],k=[];return v(d,
function(d,e){(a?e&&k[k.length-1]===d:c.contains(k,d))||(k.push(d),m.push(b[e]))}),m};c.union=function(){return c.uniq(c.flatten(arguments,!0))};c.intersection=function(b){var a=e.call(arguments,1);return c.filter(c.uniq(b),function(b){return c.every(a,function(a){return c.contains(a,b)})})};c.difference=function(b){var a=g.apply(l,e.call(arguments,1));return c.filter(b,function(b){return!c.contains(a,b)})};c.zip=function(){for(var b=c.max(c.pluck(arguments,"length").concat(0)),a=Array(b),d=0;b>d;d++)a[d]=
c.pluck(arguments,""+d);return a};c.object=function(b,a){if(null==b)return{};for(var c={},d=0,e=b.length;e>d;d++)a?c[b[d]]=a[d]:c[b[d][0]]=b[d][1];return c};c.indexOf=function(b,a,d){if(null==b)return-1;var e=0,m=b.length;if(d){if("number"!=typeof d)return e=c.sortedIndex(b,a),b[e]===a?e:-1;e=0>d?Math.max(0,m+d):d}if(x&&b.indexOf===x)return b.indexOf(a,d);for(;m>e;e++)if(b[e]===a)return e;return-1};c.lastIndexOf=function(b,a,c){if(null==b)return-1;var d=null!=c;if(k&&b.lastIndexOf===k)return d?b.lastIndexOf(a,
c):b.lastIndexOf(a);for(c=d?c:b.length;c--;)if(b[c]===a)return c;return-1};c.range=function(b,a,c){1>=arguments.length&&(a=b||0,b=0);c=arguments[2]||1;for(var d=Math.max(Math.ceil((a-b)/c),0),e=0,m=Array(d);d>e;)m[e++]=b,b+=c;return m};var R=function(){};c.bind=function(b,a){var d,m;if(y&&b.bind===y)return y.apply(b,e.call(arguments,1));if(!c.isFunction(b))throw new TypeError;return d=e.call(arguments,2),m=function(){if(!(this instanceof m))return b.apply(a,d.concat(e.call(arguments)));R.prototype=
b.prototype;var c=new R;R.prototype=null;var k=b.apply(c,d.concat(e.call(arguments)));return Object(k)===k?k:c}};c.partial=function(b){var a=e.call(arguments,1);return function(){for(var d=0,e=a.slice(),m=0,k=e.length;k>m;m++)e[m]===c&&(e[m]=arguments[d++]);for(;d<arguments.length;)e.push(arguments[d++]);return b.apply(this,e)}};c.bindAll=function(b){var a=e.call(arguments,1);if(0===a.length)throw Error("bindAll must be passed function names");return v(a,function(a){b[a]=c.bind(b[a],b)}),b};c.memoize=
function(b,a){var d={};return a||(a=c.identity),function(){var e=a.apply(this,arguments);return c.has(d,e)?d[e]:d[e]=b.apply(this,arguments)}};c.delay=function(b,a){var c=e.call(arguments,2);return setTimeout(function(){return b.apply(null,c)},a)};c.defer=function(b){return c.delay.apply(c,[b,1].concat(e.call(arguments,1)))};c.throttle=function(b,a,d){var e,m,k,g=null,h=0;d||(d={});var x=function(){h=!1===d.leading?0:c.now();g=null;k=b.apply(e,m);e=m=null};return function(){var l=c.now();h||!1!==
d.leading||(h=l);var p=a-(l-h);return e=this,m=arguments,0>=p?(clearTimeout(g),g=null,h=l,k=b.apply(e,m),e=m=null):g||!1===d.trailing||(g=setTimeout(x,p)),k}};c.debounce=function(b,a,d){var e,m,k,g,h,x=function(){var l=c.now()-g;a>l?e=setTimeout(x,a-l):(e=null,d||(h=b.apply(k,m),k=m=null))};return function(){k=this;m=arguments;g=c.now();var l=d&&!e;return e||(e=setTimeout(x,a)),l&&(h=b.apply(k,m),k=m=null),h}};c.once=function(b){var a,c=!1;return function(){return c?a:(c=!0,a=b.apply(this,arguments),
b=null,a)}};c.wrap=function(b,a){return c.partial(a,b)};c.compose=function(){var b=arguments;return function(){for(var a=arguments,c=b.length-1;0<=c;c--)a=[b[c].apply(this,a)];return a[0]}};c.after=function(b,a){return function(){return 1>--b?a.apply(this,arguments):void 0}};c.keys=function(b){if(!c.isObject(b))return[];if(z)return z(b);var a=[],d;for(d in b)c.has(b,d)&&a.push(d);return a};c.values=function(b){for(var a=c.keys(b),d=a.length,e=Array(d),m=0;d>m;m++)e[m]=b[a[m]];return e};c.pairs=function(b){for(var a=
c.keys(b),d=a.length,e=Array(d),m=0;d>m;m++)e[m]=[a[m],b[a[m]]];return e};c.invert=function(b){for(var a={},d=c.keys(b),e=0,m=d.length;m>e;e++)a[b[d[e]]]=d[e];return a};c.functions=c.methods=function(b){var a=[],d;for(d in b)c.isFunction(b[d])&&a.push(d);return a.sort()};c.extend=function(b){return v(e.call(arguments,1),function(a){if(a)for(var c in a)b[c]=a[c]}),b};c.pick=function(b){var a={},c=g.apply(l,e.call(arguments,1));return v(c,function(c){c in b&&(a[c]=b[c])}),a};c.omit=function(b){var a=
{},d=g.apply(l,e.call(arguments,1)),m;for(m in b)c.contains(d,m)||(a[m]=b[m]);return a};c.defaults=function(b){return v(e.call(arguments,1),function(a){if(a)for(var c in a)void 0===b[c]&&(b[c]=a[c])}),b};c.clone=function(b){return c.isObject(b)?c.isArray(b)?b.slice():c.extend({},b):b};c.tap=function(b,a){return a(b),b};var S=function(b,a,d,e){if(b===a)return 0!==b||1/b==1/a;if(null==b||null==a)return b===a;b instanceof c&&(b=b._wrapped);a instanceof c&&(a=a._wrapped);var m=A.call(b);if(m!=A.call(a))return!1;
switch(m){case "[object String]":return b==String(a);case "[object Number]":return b!=+b?a!=+a:0==b?1/b==1/a:b==+a;case "[object Date]":case "[object Boolean]":return+b==+a;case "[object RegExp]":return b.source==a.source&&b.global==a.global&&b.multiline==a.multiline&&b.ignoreCase==a.ignoreCase}if("object"!=typeof b||"object"!=typeof a)return!1;for(var k=d.length;k--;)if(d[k]==b)return e[k]==a;var k=b.constructor,g=a.constructor;if(k!==g&&!(c.isFunction(k)&&k instanceof k&&c.isFunction(g)&&g instanceof
g)&&"constructor"in b&&"constructor"in a)return!1;d.push(b);e.push(a);k=0;g=!0;if("[object Array]"==m){if(k=b.length,g=k==a.length)for(;k--&&(g=S(b[k],a[k],d,e)););}else{for(var h in b)if(c.has(b,h)&&(k++,!(g=c.has(a,h)&&S(b[h],a[h],d,e))))break;if(g){for(h in a)if(c.has(a,h)&&!k--)break;g=!k}}return d.pop(),e.pop(),g};c.isEqual=function(b,a){return S(b,a,[],[])};c.isEmpty=function(b){if(null==b)return!0;if(c.isArray(b)||c.isString(b))return 0===b.length;for(var a in b)if(c.has(b,a))return!1;return!0};
c.isElement=function(b){return!(!b||1!==b.nodeType)};c.isArray=D||function(b){return"[object Array]"==A.call(b)};c.isObject=function(b){return b===Object(b)};v("Arguments Function String Number Date RegExp".split(" "),function(b){c["is"+b]=function(a){return A.call(a)=="[object "+b+"]"}});c.isArguments(arguments)||(c.isArguments=function(b){return!(!b||!c.has(b,"callee"))});"function"!=typeof/./&&(c.isFunction=function(b){return"function"==typeof b});c.isFinite=function(b){return isFinite(b)&&!isNaN(parseFloat(b))};
c.isNaN=function(b){return c.isNumber(b)&&b!=+b};c.isBoolean=function(b){return!0===b||!1===b||"[object Boolean]"==A.call(b)};c.isNull=function(b){return null===b};c.isUndefined=function(b){return void 0===b};c.has=function(b,a){return B.call(b,a)};c.noConflict=function(){return u._=h,this};c.identity=function(b){return b};c.constant=function(b){return function(){return b}};c.property=function(b){return function(a){return a[b]}};c.matches=function(b){return function(a){if(a===b)return!0;for(var c in b)if(b[c]!==
a[c])return!1;return!0}};c.times=function(a,c,d){for(var e=Array(Math.max(0,a)),m=0;a>m;m++)e[m]=c.call(d,m);return e};c.random=function(a,c){return null==c&&(c=a,a=0),a+Math.floor(Math.random()*(c-a+1))};c.now=Date.now||function(){return(new Date).getTime()};var M={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};M.unescape=c.invert(M.escape);var I={escape:new RegExp("["+c.keys(M.escape).join("")+"]","g"),unescape:new RegExp("("+c.keys(M.unescape).join("|")+")","g")};c.each(["escape",
"unescape"],function(a){c[a]=function(c){return null==c?"":(""+c).replace(I[a],function(c){return M[a][c]})}});c.result=function(a,d){if(null!=a){var e=a[d];return c.isFunction(e)?e.call(a):e}};c.mixin=function(a){v(c.functions(a),function(d){var e=c[d]=a[d];c.prototype[d]=function(){var a=[this._wrapped];return w.apply(a,arguments),p.call(this,e.apply(c,a))}})};var P=0;c.uniqueId=function(a){var c=++P+"";return a?a+c:c};c.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,
escape:/<%-([\s\S]+?)%>/g};var N=/(.)^/,T={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},U=/\\|'|\r|\n|\t|\u2028|\u2029/g;c.template=function(a,d,e){var m;e=c.defaults({},e,c.templateSettings);var k=new RegExp([(e.escape||N).source,(e.interpolate||N).source,(e.evaluate||N).source].join("|")+"|$","g"),g=0,h="__p+='";a.replace(k,function(c,d,e,m,f){return h+=a.slice(g,f).replace(U,function(a){return"\\"+T[a]}),d&&(h+="'+\n((__t=("+d+"))==null?'':_.escape(__t))+\n'"),
e&&(h+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),m&&(h+="';\n"+m+"\n__p+='"),g=f+c.length,c});h+="';\n";e.variable||(h="with(obj||{}){\n"+h+"}\n");h="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+h+"return __p;\n";try{m=new Function(e.variable||"obj","_",h)}catch(x){throw x.source=h,x;}if(d)return m(d,c);d=function(a){return m.call(this,a,c)};return d.source="function("+(e.variable||"obj")+"){\n"+h+"}",d};c.chain=function(a){return c(a).chain()};var p=function(a){return this._chain?
c(a).chain():a};c.mixin(c);v("pop push reverse shift sort splice unshift".split(" "),function(a){var d=l[a];c.prototype[a]=function(){var c=this._wrapped;return d.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],p.call(this,c)}});v(["concat","join","slice"],function(a){var d=l[a];c.prototype[a]=function(){return p.call(this,d.apply(this._wrapped,arguments))}});c.extend(c.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}});"function"==
typeof E&&E.amd&&E("underscore",[],function(){return c})}).call(this);!function(u,h){function t(a,d){var e,h,k=a.toLowerCase();d=[].concat(d);for(e=0;d.length>e;e+=1)if(h=d[e])if(h.test&&h.test(a)||h.toLowerCase()===k)return!0}var l=h.prototype.trim,D=h.prototype.trimRight,w=h.prototype.trimLeft,e=function(a,d){if(1>d)return"";for(var e="";0<d;)1&d&&(e+=a),d>>=1,a+=a;return e},g=[].slice,A=function(a){return null==a?"\\s":a.source?a.source:"["+n.escapeRegExp(a)+"]"},B={lt:"<",gt:">",quot:'"',amp:"&",
apos:"'"},J={},O;for(O in B)J[B[O]]=O;J["'"]="#39";var K=function(){function a(a){return Object.prototype.toString.call(a).slice(8,-1).toLowerCase()}var d=function(){return d.cache.hasOwnProperty(arguments[0])||(d.cache[arguments[0]]=d.parse(arguments[0])),d.format.call(null,d.cache[arguments[0]],arguments)};return d.format=function(d,g){var k,l,n,c,A,B=1,t=d.length,J="",u=[];for(l=0;t>l;l++)if(J=a(d[l]),"string"===J)u.push(d[l]);else if("array"===J){if(c=d[l],c[2])for(k=g[B],n=0;c[2].length>n;n++){if(!k.hasOwnProperty(c[2][n]))throw Error(K('[_.sprintf] property "%s" does not exist',
c[2][n]));k=k[c[2][n]]}else k=c[1]?g[c[1]]:g[B++];if(/[^s]/.test(c[8])&&"number"!=a(k))throw Error(K("[_.sprintf] expecting number but found %s",a(k)));switch(c[8]){case "b":k=k.toString(2);break;case "c":k=h.fromCharCode(k);break;case "d":k=parseInt(k,10);break;case "e":k=c[7]?k.toExponential(c[7]):k.toExponential();break;case "f":k=c[7]?parseFloat(k).toFixed(c[7]):parseFloat(k);break;case "o":k=k.toString(8);break;case "s":k=(k=h(k))&&c[7]?k.substring(0,c[7]):k;break;case "u":k=Math.abs(k);break;
case "x":k=k.toString(16);break;case "X":k=k.toString(16).toUpperCase()}k=/[def]/.test(c[8])&&c[3]&&0<=k?"+"+k:k;n=c[4]?"0"==c[4]?"0":c[4].charAt(1):" ";A=c[6]-h(k).length;n=c[6]?e(n,A):"";u.push(c[5]?k+n:n+k)}return u.join("")},d.cache={},d.parse=function(a){for(var d=[],e=[],h=0;a;){if(null!==(d=/^[^\x25]+/.exec(a)))e.push(d[0]);else if(null!==(d=/^\x25{2}/.exec(a)))e.push("%");else{if(null===(d=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(a)))throw Error("[_.sprintf] huh?");
if(d[2]){var h=h|1,g=[],c=d[2],l=[];if(null===(l=/^([a-z_][a-z_\d]*)/i.exec(c)))throw Error("[_.sprintf] huh?");for(g.push(l[1]);""!==(c=c.substring(l[0].length));){if(null===(l=/^\.([a-z_][a-z_\d]*)/i.exec(c))&&null===(l=/^\[(\d+)\]/.exec(c)))throw Error("[_.sprintf] huh?");g.push(l[1])}d[2]=g}else h|=2;if(3===h)throw Error("[_.sprintf] mixing positional and named placeholders is not (yet) supported");e.push(d)}a=a.substring(d[0].length)}return e},d}(),n={VERSION:"2.3.0",isBlank:function(a){return null==
a&&(a=""),/^\s*$/.test(a)},stripTags:function(a){return null==a?"":h(a).replace(/<\/?[^>]+>/g,"")},capitalize:function(a){return a=null==a?"":h(a),a.charAt(0).toUpperCase()+a.slice(1)},chop:function(a,d){return null==a?[]:(a=h(a),d=~~d,0<d?a.match(new RegExp(".{1,"+d+"}","g")):[a])},clean:function(a){return n.strip(a).replace(/\s+/g," ")},count:function(a,d){if(null==a||null==d)return 0;a=h(a);d=h(d);for(var e=0,g=0,k=d.length;g=a.indexOf(d,g),-1!==g;)e++,g+=k;return e},chars:function(a){return null==
a?[]:h(a).split("")},swapCase:function(a){return null==a?"":h(a).replace(/\S/g,function(a){return a===a.toUpperCase()?a.toLowerCase():a.toUpperCase()})},escapeHTML:function(a){return null==a?"":h(a).replace(/[&<>"']/g,function(a){return"&"+J[a]+";"})},unescapeHTML:function(a){return null==a?"":h(a).replace(/\&([^;]+);/g,function(a,e){var g;return e in B?B[e]:(g=e.match(/^#x([\da-fA-F]+)$/))?h.fromCharCode(parseInt(g[1],16)):(g=e.match(/^#(\d+)$/))?h.fromCharCode(~~g[1]):a})},escapeRegExp:function(a){return null==
a?"":h(a).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},splice:function(a,d,e,g){a=n.chars(a);return a.splice(~~d,~~e,g),a.join("")},insert:function(a,d,e){return n.splice(a,d,0,e)},include:function(a,d){return""===d?!0:null==a?!1:-1!==h(a).indexOf(d)},join:function(){var a=g.call(arguments),d=a.shift();return null==d&&(d=""),a.join(d)},lines:function(a){return null==a?[]:h(a).split("\n")},reverse:function(a){return n.chars(a).reverse().join("")},startsWith:function(a,d){return""===d?!0:null==a||
null==d?!1:(a=h(a),d=h(d),a.length>=d.length&&a.slice(0,d.length)===d)},endsWith:function(a,d){return""===d?!0:null==a||null==d?!1:(a=h(a),d=h(d),a.length>=d.length&&a.slice(a.length-d.length)===d)},succ:function(a){return null==a?"":(a=h(a),a.slice(0,-1)+h.fromCharCode(a.charCodeAt(a.length-1)+1))},titleize:function(a){return null==a?"":(a=h(a).toLowerCase(),a.replace(/(?:^|\s|-)\S/g,function(a){return a.toUpperCase()}))},camelize:function(a){return n.trim(a).replace(/[-_\s]+(.)?/g,function(a,e){return e?
e.toUpperCase():""})},underscored:function(a){return n.trim(a).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},dasherize:function(a){return n.trim(a).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()},classify:function(a){return n.titleize(h(a).replace(/[\W_]/g," ")).replace(/\s/g,"")},humanize:function(a){return n.capitalize(n.underscored(a).replace(/_id$/,"").replace(/_/g," "))},trim:function(a,d){return null==a?"":!d&&l?l.call(a):(d=A(d),h(a).replace(new RegExp("^"+
d+"+|"+d+"+$","g"),""))},ltrim:function(a,d){return null==a?"":!d&&w?w.call(a):(d=A(d),h(a).replace(new RegExp("^"+d+"+"),""))},rtrim:function(a,d){return null==a?"":!d&&D?D.call(a):(d=A(d),h(a).replace(new RegExp(d+"+$"),""))},truncate:function(a,d,e){return null==a?"":(a=h(a),e=e||"...",d=~~d,a.length>d?a.slice(0,d)+e:a)},prune:function(a,d,e){if(null==a)return"";if(a=h(a),d=~~d,e=null!=e?h(e):"...",d>=a.length)return a;d=a.slice(0,d+1).replace(/.(?=\W*\w*$)/g,function(a){return a.toUpperCase()!==
a.toLowerCase()?"A":" "});return d=d.slice(d.length-2).match(/\w\w/)?d.replace(/\s*\S+$/,""):n.rtrim(d.slice(0,d.length-1)),(d+e).length>a.length?a:a.slice(0,d.length)+e},words:function(a,d){return n.isBlank(a)?[]:n.trim(a,d).split(d||/\s+/)},pad:function(a,d,m,g){a=null==a?"":h(a);d=~~d;var k=0;switch(m?1<m.length&&(m=m.charAt(0)):m=" ",g){case "right":return k=d-a.length,a+e(m,k);case "both":return k=d-a.length,e(m,Math.ceil(k/2))+a+e(m,Math.floor(k/2));default:return k=d-a.length,e(m,k)+a}},lpad:function(a,
d,e){return n.pad(a,d,e)},rpad:function(a,d,e){return n.pad(a,d,e,"right")},lrpad:function(a,d,e){return n.pad(a,d,e,"both")},sprintf:K,vsprintf:function(a,d){return d.unshift(a),K.apply(null,d)},toNumber:function(a,d){var e;a?(a=n.trim(a),e=a.match(/^-?\d+(?:\.\d+)?$/)?1*(1*a||0).toFixed(~~d)||0:0/0):e=0;return e},numberFormat:function(a,d,e,g){if(isNaN(a)||null==a)return"";a=a.toFixed(~~d);g="string"==typeof g?g:",";a=a.split(".");e=a[1]?(e||".")+a[1]:"";return a[0].replace(/(\d)(?=(?:\d{3})+$)/g,
"$1"+g)+e},strRight:function(a,d){if(null==a)return"";a=h(a);var e=(d=null!=d?h(d):d)?a.indexOf(d):-1;return~e?a.slice(e+d.length,a.length):a},strRightBack:function(a,d){if(null==a)return"";a=h(a);var e=(d=null!=d?h(d):d)?a.lastIndexOf(d):-1;return~e?a.slice(e+d.length,a.length):a},strLeft:function(a,d){if(null==a)return"";a=h(a);var e=(d=null!=d?h(d):d)?a.indexOf(d):-1;return~e?a.slice(0,e):a},strLeftBack:function(a,d){if(null==a)return"";a+="";var e=a.lastIndexOf(null!=d?""+d:d);return~e?a.slice(0,
e):a},toSentence:function(a,d,e,g){d=d||", ";e=e||" and ";var k=a.slice(),h=k.pop();return 2<a.length&&g&&(e=n.rtrim(d)+e),k.length?k.join(d)+e+h:h},toSentenceSerial:function(){var a=g.call(arguments);return a[3]=!0,n.toSentence.apply(n,a)},slugify:function(a){if(null==a)return"";var d=new RegExp(A("\u0105\u00e0\u00e1\u00e4\u00e2\u00e3\u00e5\u00e6\u0103\u0107\u0119\u00e8\u00e9\u00eb\u00ea\u00ec\u00ed\u00ef\u00ee\u0142\u0144\u00f2\u00f3\u00f6\u00f4\u00f5\u00f8\u015b\u0219\u021b\u00f9\u00fa\u00fc\u00fb\u00f1\u00e7\u017c\u017a"),
"g");return a=h(a).toLowerCase().replace(d,function(a){a="\u0105\u00e0\u00e1\u00e4\u00e2\u00e3\u00e5\u00e6\u0103\u0107\u0119\u00e8\u00e9\u00eb\u00ea\u00ec\u00ed\u00ef\u00ee\u0142\u0144\u00f2\u00f3\u00f6\u00f4\u00f5\u00f8\u015b\u0219\u021b\u00f9\u00fa\u00fc\u00fb\u00f1\u00e7\u017c\u017a".indexOf(a);return"aaaaaaaaaceeeeeiiiilnoooooosstuuuunczz".charAt(a)||"-"}),n.dasherize(a.replace(/[^\w\s-]/g,""))},surround:function(a,d){return[d,a,d].join("")},quote:function(a,d){return n.surround(a,d||'"')},unquote:function(a,
d){return d=d||'"',a[0]===d&&a[a.length-1]===d?a.slice(1,a.length-1):a},exports:function(){var a={},d;for(d in this)this.hasOwnProperty(d)&&!d.match(/^(?:include|contains|reverse)$/)&&(a[d]=this[d]);return a},repeat:function(a,d,g){if(null==a)return"";if(d=~~d,null==g)return e(h(a),d);for(var l=[];0<d;l[--d]=a);return l.join(g)},naturalCmp:function(a,d){if(a==d)return 0;if(!a)return-1;if(!d)return 1;for(var e=/(\.\d+)|(\d+)|(\D+)/g,g=h(a).toLowerCase().match(e),k=h(d).toLowerCase().match(e),l=Math.min(g.length,
k.length),n=0;l>n;n++){var e=g[n],c=k[n];if(e!==c)return g=parseInt(e,10),!isNaN(g)&&(k=parseInt(c,10),!isNaN(k)&&g-k)?g-k:c>e?-1:1}return g.length===k.length?g.length-k.length:d>a?-1:1},levenshtein:function(a,d){if(null==a&&null==d)return 0;if(null==a)return h(d).length;if(null==d)return h(a).length;a=h(a);d=h(d);for(var e,g,k=[],l=0;d.length>=l;l++)for(var n=0;a.length>=n;n++)g=l&&n?a.charAt(n-1)===d.charAt(l-1)?e:Math.min(k[n],k[n-1],e)+1:l+n,e=k[n],k[n]=g;return k.pop()},toBoolean:function(a,
d,e){return"number"==typeof a&&(a=""+a),"string"!=typeof a?!!a:(a=n.trim(a),t(a,d||["true","1"])?!0:t(a,e||["false","0"])?!1:void 0)}};n.strip=n.trim;n.lstrip=n.ltrim;n.rstrip=n.rtrim;n.center=n.lrpad;n.rjust=n.lpad;n.ljust=n.rpad;n.contains=n.include;n.q=n.quote;n.toBool=n.toBoolean;"undefined"!=typeof exports&&("undefined"!=typeof C&&C.exports&&(C.exports=n),exports._s=n);"function"==typeof E&&E.amd&&E("underscore.string",[],function(){return n});u._=u._||{};u._.string=u._.str=n}(this,String);var E=
{},C={};(function(){function u(){}function h(e,g){for(var h=e.length;h--;)if(e[h].listener===g)return h;return-1}function t(e){return function(){return this[e].apply(this,arguments)}}var l=u.prototype,D=this,w=D.EventEmitter;l.getListeners=function(e){var g,h,l=this._getEvents();if(e instanceof RegExp)for(h in g={},l)l.hasOwnProperty(h)&&e.test(h)&&(g[h]=l[h]);else g=l[e]||(l[e]=[]);return g};l.flattenListeners=function(e){var g,h=[];for(g=0;g<e.length;g+=1)h.push(e[g].listener);return h};l.getListenersAsObject=
function(e){var g,h=this.getListeners(e);return h instanceof Array&&(g={},g[e]=h),g||h};l.addListener=function(e,g){var l,B=this.getListenersAsObject(e),t="object"==typeof g;for(l in B)B.hasOwnProperty(l)&&-1===h(B[l],g)&&B[l].push(t?g:{listener:g,once:!1});return this};l.on=t("addListener");l.addOnceListener=function(e,g){return this.addListener(e,{listener:g,once:!0})};l.once=t("addOnceListener");l.defineEvent=function(e){return this.getListeners(e),this};l.defineEvents=function(e){for(var g=0;g<
e.length;g+=1)this.defineEvent(e[g]);return this};l.removeListener=function(e,g){var l,t,u=this.getListenersAsObject(e);for(t in u)u.hasOwnProperty(t)&&(l=h(u[t],g),-1!==l&&u[t].splice(l,1));return this};l.off=t("removeListener");l.addListeners=function(e,g){return this.manipulateListeners(!1,e,g)};l.removeListeners=function(e,g){return this.manipulateListeners(!0,e,g)};l.manipulateListeners=function(e,g,h){var l,t,u=e?this.removeListener:this.addListener;e=e?this.removeListeners:this.addListeners;
if("object"!=typeof g||g instanceof RegExp)for(l=h.length;l--;)u.call(this,g,h[l]);else for(l in g)g.hasOwnProperty(l)&&(t=g[l])&&("function"==typeof t?u.call(this,l,t):e.call(this,l,t));return this};l.removeEvent=function(e){var g,h=typeof e,l=this._getEvents();if("string"===h)delete l[e];else if(e instanceof RegExp)for(g in l)l.hasOwnProperty(g)&&e.test(g)&&delete l[g];else delete this._events;return this};l.removeAllListeners=t("removeEvent");l.emitEvent=function(e,g){var h,l,t,u,w=this.getListenersAsObject(e);
for(t in w)if(w.hasOwnProperty(t))for(l=w[t].length;l--;)h=w[t][l],!0===h.once&&this.removeListener(e,h.listener),u=h.listener.apply(this,g||[]),u===this._getOnceReturnValue()&&this.removeListener(e,h.listener);return this};l.trigger=t("emitEvent");l.emit=function(e){var g=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,g)};l.setOnceReturnValue=function(e){return this._onceReturnValue=e,this};l._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:
!0};l._getEvents=function(){return this._events||(this._events={})};u.noConflict=function(){return D.EventEmitter=w,u};"function"==typeof E&&E.amd?E(function(){return u}):"object"==typeof C&&C.exports?C.exports=u:this.EventEmitter=u}).call(this);this._.mixin(this._.str.exports());return this}).call(V);return V}();
;var tagcade=tagcade||{};
tagcade.util=tagcade.util||function(){var f=tagcade.lib._;return{addEvent:function(a,d,b){a.addEventListener?a.addEventListener(d,b,!1):a.attachEvent&&a.attachEvent("on"+d,b)},removeEvent:function(a,d,b){a.removeEventListener?a.removeEventListener(d,b,!1):a.detachEvent&&a.detachEvent("on"+d,b)},contentLoaded:function(a,d){var b=!1,c=!0,e=a.document,f=e.documentElement,h=e.addEventListener,l=h?"addEventListener":"attachEvent",n=h?"removeEventListener":"detachEvent",k=h?"":"on",g=function(c){if("readystatechange"!=
c.type||"complete"==e.readyState)("load"==c.type?a:e)[n](k+c.type,g,!1),!b&&(b=!0)&&d.call(a,c.type||c)},m=function(){try{f.doScroll("left")}catch(a){setTimeout(m,50);return}g("poll")};if("complete"==e.readyState)d.call(a,"lazy");else{if(!h&&f.doScroll){try{c=!a.frameElement}catch(p){}c&&m()}e[l](k+"DOMContentLoaded",g,!1);e[l](k+"readystatechange",g,!1);a[l](k+"load",g,!1)}},createPixel:function(a){(new Image).src=a},addQueryStringToUrl:function(a,d){var b="",c;for(c in d)var e=d[c],b=b+(encodeURIComponent(c)+
"="+encodeURIComponent(e)+"&");0<b.length&&(b=b.substring(0,b.length-1),a=a+"?"+b);return a},getQueryVariable:function(a,d){0===a.indexOf("?")&&(a=a.substr(1));for(var b=a.split("&"),c=0;c<b.length;c++){var e=b[c].split("=");if(e[0]==d)return e[1]}return""},getLocation:function(a){var d=document.createElement("a");d.href=a;return d},createCookie:function(a,d,b){if(b){var c=new Date;c.setTime(c.getTime()+864E5*b);b="; expires="+c.toGMTString()}else b="";document.cookie=a+"="+d+b+"; path=/"},readCookie:function(a){a+=
"=";for(var d=document.cookie.split(";"),b=0;b<d.length;b++){for(var c=d[b];" "==c.charAt(0);)c=c.substring(1,c.length);if(0==c.indexOf(a))return c.substring(a.length,c.length)}return null},getJSONP:function(a,d){var b="_tc"+this.getCacheBuster(),c=document.createElement("script"),e=document.getElementsByTagName("head")[0]||document.documentElement;window[b]=function(a){e.removeChild(c);d&&d(a);window[b]=void 0};c.src=a.replace("callback=?","callback="+b);e.appendChild(c)},createCORSRequest:function(a,
d){var b=new XMLHttpRequest;"withCredentials"in b?b.open(a,d,!0):"undefined"!=typeof XDomainRequest?(b=new XDomainRequest,b.open(a,d)):b=null;return b},getUniqueId:function(){for(var a="";20>a.length;)a+=Math.random().toString(32).substr(2);return a.substr(0,20)},getCacheBuster:function(){return Math.round(1E16*Math.random())},getRandomInt:function(a,d){return Math.floor(Math.random()*(d-a+1))+a},filterUndefinedProperties:function(a,d){if(!f.isObject(a))return a;var b=[],c;for(c in d)if(d.hasOwnProperty(c)){var e=
d[c];a.hasOwnProperty(e)&&f.isUndefined(a[e])&&b.push(e)}return f.omit(a,b)},extractDomain:function(a){if(!f.isString(a))return"";a=-1<a.indexOf("://")?a.split("/")[2]:a.split("/")[0];a=a.split(":")[0];return a=a.split("?")[0]}}}();
;var tagcade=tagcade||{};
tagcade.core=tagcade.core||function(){var c=tagcade.lib._,g=["analytics","videoAnalytics","displayAds"],d={},f=[],e={pvid:tagcade.util.getUniqueId(),pageUrl:window.location.href,domain:window.location.hostname,ref:document.referrer},h=["pvid","domain","source"],a={b:function(b){"object"===typeof b&&(b=tagcade.util.filterUndefinedProperties(b,["pageUrl","domain"]),e=c.extend(e,b))},d:function(){return e},e:function(){return c.pick(e,h)},c:function(b,a){c.contains(g,b)&&c.isFunction(a)&&(c.has(d,b)||
(d[b]=[]),d[b].push(a))},f:function(a){return c.has(d,a)?d[a]:!1},h:function(a){c.isString(a)&&0===a.indexOf("tcdef")&&f.push(a)},g:function(a){return c.contains(f,a)}};a.addEnvironmentData=a.b;a.getEnvironmentData=a.d;a.getGlobalEventData=a.e;a.addModuleCallback=a.c;a.getModuleCallbacks=a.f;a.registerHandledPassback=a.h;a.isPassbackHandled=a.g;return a}();
;
;
;var tagcade=tagcade||{};
tagcade.displayAds=tagcade.displayAds||function(){function u(a,b,c,e){this.d.call(this,a,b,c,e)}function r(a,b,c,e,d,g){this.d.call(this,a,b,c,e,d,g)}function s(a,b,c,e,d,g){this.d.call(this,a,b,c,e,d,g)}function C(a,b,c,e,d,g){s.prototype.d.call(this,a,b,c,e,d,g)}function v(a,b,c,d,f,g){s.prototype.d.call(this,a,b,c,d,f,g)}function w(a,b){this.d.call(this,a,b)}function x(a){this.d.call(this,a)}function y(a){this.d.call(this,a)}function z(a,b){this.d.call(this,a,b)}function D(a,b,c,d,f){this.d.call(this,
a,b,c,d,f)}function H(a,b,c,d){this.d.call(this,a,b,c,d)}function E(){this.d.call(this)}var d=tagcade.lib._;u.prototype={constructor:u,d:function(a,b,c,e){if(!d.isString(a))throw Error("id should be a string");this.i=a;this.l=parseInt(b,10)||0;this.r=parseInt(c,0)||0;this.ea=this.ia="";this.p=this.sb();this.Ja=this.Ia=!1;e=e||{};this.c=d.extend({pa:"__tcFifContents",L:!1},e);var f=this;this.fa=[{Wa:"load",Ua:function(){f.Ia=!0;f.emit("loaded")}}];this.L()||this.fa.push({Wa:"DOMContentLoaded",Ua:function(){f.Ja=
!0;f.emit("ready")}});a=0;for(b=this.fa.length;a<b;a++)c=this.fa[a],tagcade.util.addEvent(this.p,c.Wa,c.Ua)},L:function(){return this.c.L},Ta:function(a,b){this.pb(a,b)},na:function(a,b){this.Ta(this.nc(a),b)},nc:function(a){return'<script type="text/javascript">'+a+"\x3c/script>"},J:function(a,b,c){this.na(this.Tb(a,b),c)},Tb:function(a,b){"function"===typeof a&&(b=a,a=[]);if(!(a instanceof Array))throw Error("fnArgs must an Array");if("function"!==typeof b)throw Error("fn is not a function");var c=
JSON.stringify(a),c=c.substr(1,c.length-2),c=d.sprintf("(%s)(%s);",b.toString(),c);return c=this.oc(c)},oc:function(a){return a=d.sprintf("try { %s } catch(e) {}",a)},$a:function(){this.L()&&this.J([this.c.pa],function(a){window[a]=void 0},"head");return"<!DOCTYPE html><html><head>"+this.ia+"</head><body>"+this.ea+"</body></html>"},load:function(){this.Ja=this.Ia=!1;if(this.L())this.p.contentWindow[this.c.pa]=this.$a(),this.p.src=d.sprintf('javascript:window["%s"]',this.c.pa);else{var a=this.p.contentDocument||
this.p.contentWindow.document;a.open("text/html","replace");a.write(this.$a());a.close()}},Vb:function(){var a=this.p;a&&(a.style.display="none",a.width=0,a.height=0)},sb:function(){var a=document.createElement("iframe");a.id=this.i;a.width=this.l;a.height=this.r;a.frameBorder=0;a.marginWidth=0;a.marginHeight=0;a.scrolling="no";a.src="about:blank";return a},pb:function(a,b){switch(b||"body"){case "head":this.ia+=a;break;case "body":this.ea+=a;break;default:throw Error("parentElement is not valid");
}}};d.extend(u.prototype,tagcade.lib.EventEmitter.prototype);r.prototype={constructor:r,mb:"iframe object embed img video canvas".split(" "),ya:[120,125,160,180,200,234,240,250,300,320,336,468,580,728,930,970,980],d:function(a,b,c,e,f,g){this.i=a;this.l=parseInt(b,10)||0;this.r=parseInt(c,10)||0;this.Ra=e;this.la=null;this.k=parseInt(f,10)||0;this.W=!1;this.U=null;this.Ea=!1;g=g||{};this.c=d.extend({m:2500,Z:!1},g)},Sb:function(){return this.la?this.la:this.Ra},Za:function(){if(this.T)return this.T;
var a=this.tb();this.T=a;this.W=!0;return a},qa:function(){return this.Za().p},Kb:function(){this.U&&(clearTimeout(this.U),this.U=null);this.W=!1;this.T&&this.T.Vb()},ac:function(a){a=d.extend({X:null,j:null,domain:null},a);var b=this.Ra;try{a.X&&(b=b.replace(/\$\{CACHEBUSTER\}/g,a.X),b=b.replace(/INSERT_RANDOM_NUMBER/g,a.X)),a.j&&(b=b.replace(/\$\{PAGE_?URL\}/g,a.j)),a.domain&&(b=b.replace(/\$\{DOMAIN\}/g,a.domain)),d.isString(a.eb)&&(b=b.replace(/\$\{PAGEVIEW_ID\}/g,encodeURIComponent(a.eb))),d.isString(a.bb)&&
(b=b.replace(/\$\{IMPRESSION_ID\}/g,encodeURIComponent(a.bb))),d.isNumber(a.jb)&&(b=b.replace(/\$\{SLOT_ID\}/g,a.jb))}catch(c){}this.la=b},Z:function(){return this.c.Z},tb:function(){var a=new u(d.sprintf("tagcade_tag_%d_%s",this.i,tagcade.util.getCacheBuster()),this.l,this.r);a.na("var tcFif=true;","head");var b=this;a.on("loaded",function(){if(b.W&&!b.Ea){var a=this.p;a&&"undefined"!==typeof a.contentWindow.tcFif&&(b.Ea=!0,b.U=setTimeout(function(){b.nb()},b.c.m))}});return a},qb:function(){var a=
this.qa();if(!a)return!1;var a=a.contentDocument||a.contentWindow.document,b=this,c=d.filter(this.ya,function(a){return a<b.width});c.unshift(this.l);for(var e=this.mb,f=0;f<e.length;f++)for(var g=a.getElementsByTagName(e[f]),q=0;q<g.length;q++){var l=g[q];if(this.ob(l,c))return l}return!1},nb:function(){if(this.W){var a=this.qb();this.emit("impression",a)}},ob:function(a,b){b=b||this.ya;for(var c=[function(){return a.clientWidth},function(){return a.getAttribute("width")},function(){return a.style.width},
function(){return a.width},function(){return a.naturalWidth}],e=!1,f=0;f<c.length;f++){var g;try{g=c[f]()}catch(q){g=null}g=parseInt(g,10);if(!(isNaN(g)||1>=g)&&d.contains(b,g)){e=!0;break}}return e}};d.extend(r.prototype,tagcade.lib.EventEmitter.prototype);s.prototype={constructor:s,B:{Q:1,va:2},b:{INIT:99,F:100,D:101,N:102,xa:103,C:104,wa:110,ca:120},d:function(a,b,c,e,f,g){this.v=null;this.i=parseInt(a,10)||null;this.l=parseInt(b,10)||0;this.r=parseInt(c,10)||0;if(!this.l||!this.r)throw Error(d.sprintf("%dx%d is an invalid size for a slot",
this.l,this.r));this.G=[];this.La=[];this.f=-1;f=parseInt(f,10);0<=f&&(this.f=f-1);this.ga=-1;this.Ha=!1;this.H=tagcade.util.getUniqueId();this.k=null;this.ja=!1;this.V=null;g=g||{};this.c=d.extend({m:2500,oa:!1,ta:"position"},g);d.isArray(e)&&this.Na(e)},ra:function(a,b){if(null===this.v){if(null===this.k)throw Error("A slot position should be set");var c=d.sprintf("tagcade_slot_%d_%d_%s",this.i,this.k,this.H),e=window.addEventListener?"inline-block":"inline";try{a.id=c,a.style.width=this.l+"px",
a.style.height=this.r+"px",a.style.display=e}catch(f){return}a.style.display="none";a.offsetHeight;a.style.display=e;this.v=a;d.isArray(b)&&this.Na(b);this.emit(this.b.INIT);this.Ma()}},Ya:function(a){var b={imp:this.H,slot:this.i,slotPos:this.k};if(-1===a)return b;a=a||this.f;a=this.Y(a);if(!a)return b;d.extend(b,{tag:a.i,tagPos:this.f,servePos:this.ga});return b},gc:function(a){this.k=parseInt(a,10)},Y:function(a){if(!d.has(this.G,a))return!1;a=this.G[a];return a instanceof r?a:!1},Lb:function(a){"undefined"===
typeof a&&(a=this.f);a=parseInt(a,10);if(!(a<this.f)){var b={};this.ja&&(b.voidImp=1,null!==this.V&&(b.tagName=this.V),this.ja=!1,this.V=null);this.S(this.b.N,a,b);this.Ma()}},Ma:function(){var a=this.ub();a&&this.Db(a);if(a=this.Fa()){var b=!!this.Ha;this.Ha=!0;var c=this;a.on("impression",function(a){var b={},e=null,f=this.qa();if(d.isObject(f.contentWindow.tagcade))e="tagcade";else if(d.isObject(f.contentWindow.__switch_obj))e="iframe";else if(a)try{e=a.nodeName.toLowerCase()}catch(g){e=null}else e=
"";null!==e&&(b.tagName=e);""==e&&c.emit(c.b.wa,this);c.ja=!0;c.V=e;c.S(c.b.C,this.k,b)});var e=a.Za(),f=e.p;if(this.c.oa)e.on("loaded",function(){try{if("undefined"!==typeof f.contentWindow.tcFif){var a=f.contentWindow.document.body.clientHeight;if(a&&!(50>a)){var b=f.contentWindow.document.body.clientWidth;b!=e.l&&(c.v.style.width=b+"px",f.width=b);a!=e.r&&(c.v.style.height=a+"px",f.height=a);var d=window.frameElement;d&&(d.width!=b&&(d.width=b),d.height!=a&&(d.height=a))}}}catch(g){}});this.v.insertBefore(f,
this.v.firstChild);f.style.display="none";f.offsetHeight;f.style.display="block";e.J([this.k,this.f],function(a,b){function c(d){if("string"==typeof d.data&&0===d.data.indexOf("tcdef-")){var e={sa:d.data};-1<d.data.indexOf("-tcuuid-")&&(e=d.data.substr(0,d.data.indexOf("-tcuuid-")).replace("-tcuuid-",""),d=d.data.substr(d.data.indexOf("-tcuuid-")).replace("-tcuuid-",""),e={sa:e,gb:d});window.parent.tagcade.displayAds.triggerDefault(a,b,e)}}window.addEventListener?window.addEventListener("message",
c,!1):window.attachEvent("onmessage",c)},"head");e.na("var inDapIF=true;var tcSlotPos="+this.k+";var tcTagPos="+this.f+";var tcTagId="+parseInt(a.i,10)+';var tcImpId="'+this.H+'";');this.emit(this.B.Q,e,this.f,b);this.emit(this.B.va,a);e.Ta(a.Sb());var g=function(){f.contentWindow?(e.load(),b&&c.S(c.b.F),c.S(c.b.D)):setTimeout(g,100)};g()}else this.emit(this.b.ca,this)},Na:function(a){a=a||[];if(!d.isArray(a))throw Error("This argument must be an array");var b=this;this.G=a=d.map(this.xb(a,b.c.ta||
"position"),function(a,e){return d.isObject(a)&&d.has(a,"id")&&d.has(a,"tag")?new r(a.id,b.l,b.r,a.tag,e,{m:b.c.m,Z:d.isNumber(a.cap)}):null})},xb:function(a,b){a=a||[];if(!d.isArray(a))throw Error("This argument must be an array");if(!this.yb(b))throw Error("Not yet supported passbackMode "+b);for(var c=[],e,f=0,g=a.length;f<g;f++)e=a[f],d.isArray(e)?"position"==b?e=[this.Ga(e)]:"peerpriority"==b&&(e=this.wb(e)):e=[e],c=c.concat(e);return c},yb:function(a){return d.contains(["position","peerpriority"],
a)},wb:function(a){a=a||[];if(!d.isArray(a))throw Error("This argument must be an array");for(var b=[],c=null,e=-1;0<a.length;){c=this.Ga(a);b.push(c);e=d.indexOf(a,c);if(0>e)break;a=d.without(a,c)}return b},Ga:function(a){if(!d.isArray(a))throw Error("expected an array");a=d.filter(a,function(a){return d.isObject(a)});if(!a.length)return!1;if(1===a.length)return a[0];var b=d.reduce(a,function(a,b){return a+(parseInt(b.rot,10)||0)},0);if(0==b){var c=tagcade.util.getRandomInt(0,a.length-1);return a[c]}for(var c=
d.map(a,function(a,c){var d=parseInt(a.rot,10)||0,d=Math.floor(d/b*100);return{index:c,P:d}}),c=d.sortBy(c,function(a){return a.P}),e=null,f=tagcade.util.getRandomInt(0,100),g=0,q=c.length-1,l=q;0<=l;l--){var h=c[l].P;if(g+h>=f){e=c[l].index;break}g+=h}d.isNumber(e)||(e=q);return a[e]},Fa:function(){if(this.f+1>=this.G.length)return!1;this.f++;var a=this.G[this.f];if(!(a instanceof r))return this.Fa();this.ga++;return a},ub:function(){return this.Y(this.f)},Db:function(a){a instanceof r&&d.contains(this.G,
a)&&!d.contains(this.La,a)&&(a.Kb(),this.La.push(a))},S:function(a,b,c){d.contains(this.b,a)&&(b=b||this.f,a===this.b.F&&(b=-1),this.emit(a,b,c))}};d.extend(s.prototype,tagcade.lib.EventEmitter.prototype);C.prototype=Object.create(s.prototype);C.prototype.constructor=C;v.prototype=Object.create(s.prototype);v.prototype.constructor=v;v.prototype.Ya=function(a){var b={imp:this.H,ronSlot:this.i,slotPos:this.k},c=parseInt(this.c.bc,10)||null;c&&(b.reportSegment=c);if(-1===a)return b;a=a||this.f;a=this.Y(a);
if(!a)return b;d.extend(b,{ronTag:a.i,tagPos:this.f,servePos:this.ga});return b};w.prototype={constructor:w,g:{F:"sopp",D:"opp",N:"def",xa:"fdef",C:"imp",u:"clk"},d:function(a,b){this.Ka=a||"//log.tagcade.com/log";this.c=d.extend({K:!0},b);this.n={}},fc:function(a){this.Ka=a},I:function(a){d.isObject(this.n)||(this.n={});a=tagcade.util.filterUndefinedProperties(a,["domain"]);d.extend(this.n,a)},Jb:function(a){this.A(this.g.F,a)},Ib:function(a){this.A(this.g.D,a)},Hb:function(a){this.A(this.g.C,a)},
t:function(a,b,c){if(!d.contains(this.g,a))return!1;c=c||{cb:tagcade.util.getCacheBuster()};a={type:"display",event:a};a=d.extend(a,b,this.n,c);return tagcade.util.addQueryStringToUrl(this.Ka,a)},A:function(a,b){if(this.c.K){var c=this.t(a,b);c&&tagcade.util.createPixel(c)}}};x.prototype={constructor:x,d:function(a){d.isString(a)&&a||(a="tc.displayAds.frequency");this.Qa=a;this.e=this.vb()},Yb:function(a){if(!d.isObject(a))return!1;var b=a.cap;if(!d.isNumber(b))return!1;a=a.id;if(!this.e[a])return!1;
a=this.e[a].freq;return d.isNumber(a)?a>=b:!1},mc:function(a){d.isObject(this.e[a])||(this.e[a]={time:(new Date).getTime(),freq:0});try{this.e[a].freq++}catch(b){this.e[a].freq=1}tagcade.util.createCookie(this.Qa,encodeURIComponent(JSON.stringify(this.e)),1)},Mb:function(a){function b(a){return c.Yb(a)?null:a}var c=this;return d.map(a,function(a){return d.isArray(a)?d.map(a,function(a){return b(a)}):b(a)})},vb:function(){var a={},b;try{b=tagcade.util.readCookie(this.Qa)}catch(c){}if(b){b=JSON.parse(decodeURIComponent(b));
var e=(new Date).getTime();d.forEach(b,function(b,c){var q=b.time;d.isNumber(q)&&(864E5<=e-q||(a[c]=b))})}return a}};y.prototype={constructor:y,d:function(a){this.Oa=a||"//serve.tagcade.com/data?slot=$$slotid$$&ver=2&ron=$$ron$$&domain=$$domain$$&publisherUUID=$$publisherUUID$$&callback=?"},hc:function(a){this.Oa=a},Va:function(a,b,c,d,f){var g=this.Oa,g=g.replace("$$slotid$$",a),g=g.replace("$$ron$$",b?"true":"false"),g=g.replace("$$domain$$",encodeURIComponent(c)),g=g.replace("$$publisherUUID$$",
encodeURIComponent(d));f&&(g=g.replace("callback=?","callback="+f));return g},Qb:function(a,b,c,e,f){var g=this.za();window[g]=function(a){window[g]=void 0;d.isFunction(f)&&f(a)};a=this.Va(a,b,c,e,g);document.write('<script type="text/javascript" src="'+a+'">\x3c/script>')},Pb:function(a,b,c,d,f){(a=this.Va(a,b,c,d))&&tagcade.util.getJSONP(a,function(a){"function"===typeof f&&f(a)})},za:function(){var a="_tc"+tagcade.util.getCacheBuster();return d.isFunction(window[a])?this.za():a}};z.prototype={constructor:z,
d:function(a,b){if(!(a instanceof x))throw Error("Expected a FrequencyCapMonitor");this.ha=a;this.O={};b&&this.Fb(b)},fb:function(a){if(this.$(a)||this.aa(a))return a;if(this.Wb(a)){var b=a.defaultAdSlot,c,e=this.Da(a.expressions);d.isObject(e)&&(b=e.expectedAdSlot,c=e.startingPosition);b=parseInt(b,10)||null;c=parseInt(c,10)||null;if(b&&d.has(a.slots,b))return a=a.slots[b],c&&(a.startPos=c-1),a}return!1},Zb:function(a){if(!d.isArray(a)||!a.length)return!1;a=this.ha.Mb(a);a=this.Ub(a);return this.Ab(a)?
a:!1},$b:function(a,b){if(!d.isString(a))return!1;var c={};d.extend(c,this.O,b);try{d.forEach(c,function(b,c){var e=c.replace("${","\\$\\{");a=a.replace(new RegExp(e,"g"),function(){var a;a=d.isFunction(b)?b():b;if(d.isNull(a)||d.isUndefined(a))a="";return a})})}catch(e){}return a},Ub:function(a){if(!d.isArray(a))throw Error("expected an array");a=d.filter(a,function(a){return d.isObject(a)});if(!a.length)return!1;if(1===a.length)return a[0];var b=d.reduce(a,function(a,b){return a+(parseInt(b.rot,
10)||0)},0);if(0==b){var c=tagcade.util.getRandomInt(0,a.length-1);return a[c]}for(var c=d.map(a,function(a,c){var d=parseInt(a.rot,10)||0,d=Math.floor(d/b*100);return{index:c,P:d}}),c=d.sortBy(c,function(a){return a.P}),e=null,f=tagcade.util.getRandomInt(0,100),g=0,q=c.length-1,l=q;0<=l;l--){var h=c[l].P;if(g+h>=f){e=c[l].index;break}g+=h}d.isNumber(e)||(e=q);return a[e]},Da:function(a){if(!d.isArray(a)||!a.length)return!1;for(var b=!1,c=0,e=a.length;c<e;c++){var f=a[c];try{f.expression=this.Bb(f.expression),
b=eval(f.expression)}catch(g){}if(b)return f}return!1},Bb:function(a){if(!d.isString(a))return!1;var b=this.O;try{d.forEach(b,function(b,c){d.contains(["${PAGE_URL}","${PAGEURL}","${DOMAIN}"],c)&&(b=decodeURIComponent(b));var g=c.replace("${","\\$\\{");a=a.replace(new RegExp(g,"g"),function(){var a=b,a=d.isFunction(a)?a():a;if(d.isNull(a)||d.isUndefined(a))a="";return"'"+a+"'"})})}catch(c){}return a},ic:function(a){return d.isObject(a)&&d.has(a,"cap")},Ab:function(a){var b=parseInt(a.id,10);return d.isObject(a)&&
!!b&&d.has(a,"tag")},ba:function(a){var b=parseInt(a.id,10);return d.isObject(a)&&!!b},$:function(a){return this.ba(a)&&("static"==a.type||"display"==a.type)&&d.isArray(a.tags)},aa:function(a){return this.ba(a)&&"native"==a.type&&d.isArray(a.tags)},Xb:function(a){return this.ba(a)&&"dynamic"==a.type&&!!a["native"]},Wb:function(a){return this.ba(a)&&"dynamic"==a.type&&d.isObject(a.slots)},Fb:function(a){if(!d.isObject(a))return!1;this.O={};var b=this,c=/^(\$\{)?([_a-z]+)}?$/i;d.forEach(a,function(a,
d){c.test(d)&&(b.O[d]=a)});return!0},lc:function(a){if(d.isObject(a)){a={"${PAGE_URL}":a["${PAGE_URL}"],"${PAGEURL}":a["${PAGEURL}"],"${DOMAIN}":a["${DOMAIN}"]};var b={},c;for(c in a)a.hasOwnProperty(c)&&(d.isUndefined(a[c])||(b[c]=a[c]));d.extend(this.O,b)}}};D.prototype={constructor:D,g:{F:"sopp",D:"opp",N:"def",xa:"fdef",C:"imp",u:"clk",lb:"custom"},b:{M:100},d:function(a,b,c,e,f){if(!(a instanceof y))throw Error("Expected an AdFetcher");if(!(b instanceof z))throw Error("Expected an AdParser");
if(!(c instanceof w))throw Error("Expected an EventLogger");this.R=a;this.h=b;this.o=c;this.w=d.extend({j:null,domain:null},e);this.c=d.extend({jc:"//serve.tagcade.com/data?slot=$$slotid$$&ver=2&ron=$$ron$$&domain=$$domain$$&publisherUUID=$$publisherUUID$$&callback=?",kb:"//log.tagcade.com/log",K:!0,m:2500,Xa:"tc.displayAds.frequency"},f);this.s=[];this.n={};this.e={};var g;try{g=tagcade.util.readCookie(this.c.Xa)}catch(h){}if(g){a=JSON.parse(decodeURIComponent(g));var l=(new Date).getTime(),m=this;
d.forEach(a,function(a,b){var c=a.time;d.isNumber(c)&&(864E5<=l-c||(m.e[b]=a))})}},ua:function(a){if(d.isObject(a)){var b={jc:a.tagUrl,kb:a.trackUrl,K:a.trackEvents,m:a.estimateImpressionPixelDelay},c={},e;for(e in b)b.hasOwnProperty(e)&&(d.isUndefined(b[e])||(c[e]=b[e]));d.extend(this.c,c);a.tagUrl&&this.R.hc(a.tagUrl);a.trackUrl&&this.o.fc(a.trackUrl)}},registerAdSlot:function(a,b,c){function e(a){if(d.isObject(a)&&!n.h.aa(a)&&(a=n.h.fb(a))&&n.h.$(a)){var b=n.rb(a,{isRonSlot:g,reportSegment:p});
!1!==b&&(n.s[r]=b,b.gc(r),b.on(b.B.Q,function(a,b,c){n.c.K&&(c||(c={},n.w.j&&(c.pageUrl=n.w.j),a.J([n.t(this,n.g.F,b,c)],function(a){(new Image).src=a},"body")),a.J([n.t(this,n.g.D,b)],function(a){(new Image).src=a},"body"))}),b.on(b.B.va,function(a){a.ac({X:tagcade.util.getCacheBuster(),j:n.w.j,domain:n.w.domain,eb:n.w.hb,bb:b.H,jb:b.i})}),b.on(b.b.D,function(a){(a=this.Y(a))&&a.Z()&&n.Gb(a.i)}),b.on(b.b.C,function(a,b){n.A(this,n.g.C,a,b)}),b.on(b.b.N,function(a,b){n.A(this,n.g.N,a,b)}),b.on(b.b.ca,
function(){k.style.width="0px";k.style.height="0px";k.style.display="none"}),n.emit(n.b.M,b,k),b.ra(k))}}var f=a.slotId,g=a.isRonSlot,h=a.domain||this.w.domain,l=a.publisherUUID,m=a.refElement,p=a.reportSegment;if(!d.isNumber(f))throw Error("slot id should be a number");if(c&&d.has(c,"id")&&c.id!=f)throw Error("slotOptions and slotData are mismatched");var k=document.createElement("div");try{m.parentNode.insertBefore(k,m.nextSibling)}catch(s){throw Error("could not insert placeholder");}this.Eb(b);
var r=this.s.length;this.s.push(null);var n=this;c?e(c):this.R.Pb(f,g,h,l,e)},Eb:function(a){if(d.isObject(a)){var b={j:a.pageUrl,domain:a.domain};a={};for(var c in b)b.hasOwnProperty(c)&&(d.isUndefined(b[c])||(a[c]=b[c]));d.extend(this.w,a);c={"${PAGE_URL}":a.pageUrl,"${PAGEURL}":a.pageUrl,"${DOMAIN}":a.domain};a={domain:a.domain?decodeURIComponent(a.domain):void 0};this.o.I(a);this.I(a);this.h.lc(c)}},rb:function(a,b){if(!d.isObject(a))return!1;var c=!!b.isRonSlot||!1,e=parseInt(b.reportSegment,
10)||null;return this.h.$(a)?c?new v(a.id,a.width,a.height,this.Ca(a.tags),a.startPos,{m:this.c.m,oa:!!a.autoFit,bc:e,ta:a.passbackMode}):new C(a.id,a.width,a.height,this.Ca(a.tags),a.startPos,{m:this.c.m,oa:!!a.autoFit,ta:a.passbackMode}):!1},Da:function(a){if(!d.isArray(a)||!a.length)return!1;for(var b=!1,c=0,e=a.length;c<e;c++){var f=a[c];try{b=eval(f.expression)}catch(g){}if(b)return f}return!1},triggerDefault:function(a,b){this.Pa(a)&&this.s[a].Lb(b)},kc:function(a){(a=this.Rb(a))&&this.A(a,
this.g.u)},Rb:function(a){return this.Pa(a)?this.s[a]:!1},ab:function(){return this.s.length},I:function(a){"object"!==typeof this.n&&(this.n={});a=tagcade.util.filterUndefinedProperties(a,["domain"]);d.extend(this.n,a)},t:function(a,b,c,e,f){if(!d.contains(this.g,b))return!1;e=e||{};f=f||{cb:tagcade.util.getCacheBuster()};b={type:"display",event:b};b=d.extend(b,e,a.Ya(c),this.n,f);return tagcade.util.addQueryStringToUrl(this.c.kb,b)},A:function(a,b,c,d){this.c.K&&(a=this.t(a,b,c,d))&&tagcade.util.createPixel(a)},
Pa:function(a){return d.has(this.s,a)&&this.s[a]instanceof s},Ca:function(a){function b(a){return c.zb(a)?null:a}var c=this;return d.map(a,function(a){return d.isArray(a)?d.map(a,function(a){return b(a)}):b(a)})},zb:function(a){if(!d.isObject(a))return!1;var b=a.cap;if(!d.isNumber(b))return!1;a=a.id;if(!this.e[a])return!1;a=this.e[a].freq;return d.isNumber(a)?a>=b:!1},Gb:function(a){d.isObject(this.e[a])||(this.e[a]={time:(new Date).getTime(),freq:0});try{this.e[a].freq++}catch(b){this.e[a].freq=
1}tagcade.util.createCookie(this.c.Xa,encodeURIComponent(JSON.stringify(this.e)),1)}};d.extend(D.prototype,tagcade.lib.EventEmitter.prototype);H.prototype={constructor:H,d:function(a,b,c,d){if(!(a instanceof y))throw Error("Expected an AdFetcher");if(!(b instanceof z))throw Error("Expected an AdParser");if(!(c instanceof w))throw Error("Expected an EventLogger");if(!(d instanceof x))throw Error("Expected a FrequencyCapMonitor");this.R=a;this.h=b;this.o=c;this.ha=d},registerAdSlot:function(a,b){var c=
a.slotId;if(!d.isNumber(c))throw Error("slot id should be a number");var e=a.isRonSlot||!1;this.R.Qb(c,e,a.domain||"",a.publisherUUID||"",function(c){if(d.isObject(c)&&(f.h.aa(c)||f.h.Xb(c))&&(c=f.h.fb(c)))if(f.h.$(c))f.Cb(c,a,b);else if(f.h.aa(c)){f.o.I({domain:b.domain});var h=tagcade.util.getUniqueId(),l={imp:h,slot:c.id},m=e?"ronTag":"tag";l[e?"ronSlot":"slot"]=c.id;if(e){var k=parseInt(a.reportSegment,10)||null;k&&(l.reportSegment=k)}f.o.Jb(l);if(k=f.h.Zb(c.tags)){var p={};p[m]=k.id;d.extend(l,
p);h={"${IMPRESSION_ID}":h,"${CLICK_PIXEL_URL}":function(){return f.o.t(f.o.g.u,l,{})}};d.extend(h,{"${PAGE_URL}":b.pageUrl,"${DOMAIN}":b.domain});k.tag=f.h.$b(k.tag,h);f.o.Ib(l);c=d.sprintf("\x3c!-- tagcade native slot: %d, tag: %d --\x3e\n",c.id,k.id);document.write(c);document.write(k.tag);f.o.Hb(l);f.h.ic(k)&&f.ha.mc(k.id)}}});var f=this},Cb:function(a,b,c){b=d.extend(b);b.slotId=a.id;b.width=a.width;b.height=a.height;tagcade.displayAds.registerAdSlot(b,c,a)}};E.prototype={constructor:E,b:{u:1},
d:function(){var a=!1;try{a="undefined"!==typeof top.location.href&&"unknown"!==typeof top.location.href}catch(b){a=!1}this.Sa=this.ma=null;this.Aa=document;a&&(this.ma=top,this.Sa=top.document);this.da=null;this.Ba=[];this.ka={}},ra:function(){if(this.ma){var a=this;tagcade.util.addEvent(a.ma,"blur",function(){var b=a.da;if(null!==b&&a.Aa.getElementById(b)){var c=void 0;tagcade.lib._.has(a.ka,b)&&(c=a.ka[b]);a.emit(a.b.u,b,c)}})}},ib:function(a,b){var c=this;if(tagcade.lib._.isArray(a))tagcade.lib._.forEach(a,
function(a){c.ib(a)});else{if(!tagcade.lib._.isString(a))throw Error("elementId should be a string");if(!tagcade.lib._.contains(this.Ba,a)){var d=c.Sa;if(d){var f=this.Aa.getElementById(a);if(!f)throw Error(tagcade.lib._.sprintf("element %s does not exist",a));tagcade.util.addEvent(f,"mouseover",function(){c.da=a;d.activeElement&&"body"!==d.activeElement.nodeName.toLowerCase()&&("undefined"!==typeof d.body.setActive?d.body.setActive():d.activeElement.blur())});tagcade.util.addEvent(f,"mouseout",function(){c.da=
null});this.Ba.push(a);tagcade.lib._.isObject(b)&&(this.ka[a]=b)}}}}};tagcade.lib._.extend(E.prototype,tagcade.lib.EventEmitter.prototype);if(9>=function(){for(var a=3,b=document.createElement("div"),c=b.getElementsByTagName("i");b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e",c[0];);return 4<a?a:void 0}()||window.opera)u.prototype.L=function(){return!0};var A=tagcade.util.getUniqueId(),I=void 0,p=!1,t=!1,N=window.tcFif&&window.inDapIF,m={},B={instid:A};try{p="undefined"!==typeof top.location.href&&
"unknown"!==typeof top.location.href}catch(P){p=!1}try{t=p&&"undefined"!==typeof top.tagcade.core}catch(Q){t=!1}t?(m=top.tagcade.core.getEnvironmentData(),m={j:m.pageUrl,domain:m.domain,hb:m.pvid},d.extend(B,top.tagcade.core.getGlobalEventData())):p?(m={j:top.location.href,domain:top.location.hostname},m.domain&&(B.domain=m.domain)):m={j:document.referrer,domain:tagcade.util.extractDomain(document.referrer)};window.postMessage||(options.K=!1);var J=!0,K=!1,F={"${PAGE_URL}":encodeURIComponent(m.j),
"${PAGEURL}":encodeURIComponent(m.j),"${DOMAIN}":encodeURIComponent(m.domain),"${PAGEVIEW_ID}":encodeURIComponent(m.hb),"${IMPRESSION_ID}":"","${CACHEBUSTER}":tagcade.util.getCacheBuster,"${CLICK_PIXEL_URL}":"","${SLOT_ID}":"",INSERT_RANDOM_NUMBER:tagcade.util.getCacheBuster},A=new w;A.I(B);var L=new x,M=new y,F=new z(L,F),h=new D(M,F,A,m);h.I(B);var O=new H(M,F,A,L),k={Nb:function(a){J=!!a},Ob:function(a){K=!!a},cc:function(a){h.ua(a)},dc:function(a){h.ua({tagUrl:a})},ec:function(a){h.ua({trackUrl:a})}};
k.enableClickTracking=k.Nb;k.enableDiagnostics=k.Ob;k.setAdManagerOptions=k.cc;k.setAdSlotDataUrlTemplate=k.dc;k.setEventLogUrl=k.ec;t&&(m=top.tagcade.core.getModuleCallbacks("displayAds"))&&d.forEach(m,function(a){a(k)});h.on(h.b.M,function(a){a.on(a.b.ca,function(){if(N){var a=document.getElementsByTagName("head")[0],c=document.createElement("script");c.type="text/javascript";c.src="//tags.tagcade.com/2.0/passback.js";a.appendChild(c)}});a.on(a.B.Q,function(b,c){var d=h.t(a,h.g.lb,c,{},{});b.J([d],
function(a){window.tcTrackCustomEvent=function(b){"string"===typeof b&&(b=a+"&customEvent="+b+"&cb="+Math.round(1E16*Math.random()),(new Image).src=b)}},"head")})});if(K)h.on(h.b.M,function(a){a.on(a.b.wa,function(a){var c;try{c=a.qa().contentWindow.document.documentElement.innerHTML}catch(e){c=null}if(c){var f=tagcade.util.createCORSRequest("post","//log.tagcade.com/capture");f&&(a={impression_id:this.H,tag_id:a.i,ad_response:c},d.extend(a,B),a=d.map(a,function(a,b){return b+"="+encodeURIComponent(a)}).join("&"),
f.send(a))}})});if(J&&p){var G=new E;h.on(h.b.M,function(a){a.on(a.b.INIT,function(){var b=this.v,c;try{c=b.id}catch(d){c=null}c&&G.ib(c,{slotPosition:a.k})})});G.on(G.b.u,function(a,b){d.isObject(b)&&d.has(b,"slotPosition")&&h.kc(parseInt(b.slotPosition,10))});G.ra()}else if(!J)h.on(h.b.M,function(a){a.on(a.B.Q,function(b,c){var d=h.t(a,h.g.u,c,{},{});b.J([d],function(a){window.tcTrackClick=function(){(new Image).src=a+"&cb="+Math.round(1E16*Math.random())}},"head")})});p={registerAdSlot:function(a,
b,c){t&&top.tagcade.core.addEnvironmentData(b);I=b.publisherUUID;h.registerAdSlot(a,b,c)},registerNativeAdSlot:function(a,b){t&&top.tagcade.core.addEnvironmentData(b);O.registerAdSlot(a,b)},triggerDefault:function(a,b,c){c=c||{};if(c.sa&&t){var d=c.sa;if(top.tagcade.core.isPassbackHandled(d))return;top.tagcade.core.registerHandledPassback(d)}I&&"undefined"!=typeof c.gb&&I!==c.gb||h.triggerDefault(a,b)},ab:function(){return h.ab()}};p.registerAdSlot=p.registerAdSlot;p.registerNativeAdSlot=p.registerNativeAdSlot;
p.triggerDefault=p.triggerDefault;return p}();
;(function(){var a=document.currentScript||function(){for(var a=document.getElementsByTagName("script"),b=a.length-1;0<=b;b--){var c=a[b],e;try{e=c.src}catch(f){continue}if(e){var d;(d=c.getAttribute("data-tc-slot")||c.getAttribute("data-tc-ron-slot")||c.getAttribute("data-tc-passback"))||(d=e,d=-1!=d.indexOf("tags.tagcade.com")&&-1!=d.indexOf("/adtag.js"));if(d&&!c.getAttribute("data-tc-init"))return c.setAttribute("data-tc-init","true"),c}}return null}();if(a){var g=a.getAttribute("data-tc-publisher")||
void 0;if(a.getAttribute("data-tc-passback"))(function(){var a=window;if("undefined"!==typeof a.tcFif&&"undefined"!==typeof a.tcSlotPos&&"undefined"!==typeof a.tcTagPos)window.parent.tagcade.displayAds.triggerDefault(a.tcSlotPos,a.tcTagPos);else{for(var b="";20>b.length;)b+=Math.random().toString(32).substr(2);b="tcdef-"+b.substr(0,20);for("undefined"!==typeof g&&(b+="-tcuuid-"+g);a!=top;)a=a.parent,a.postMessage(b,"*")}})();else{var b=window,h=a.getAttribute("data-tc-slot")||b.tc_slot||a.getAttribute("data-tc-ron-slot"),
d=a.getAttribute("data-tc-size")||b.tc_size,l="true"==a.getAttribute("data-tc-native")||"native"==a.getAttribute("data-tc-slot-type")||b.tc_native,m=a.getAttribute("data-tc-ron-slot"),n=a.getAttribute("data-tc-report-segment"),c=b.tc_domain,e=b.tc_domain_raw,f=b.tc_page_url,k=b.tc_page_url_raw,h=parseInt(h,10)||null,d=d||null,l=l||!1,m=!!m||!1,n=parseInt(n,10)||null,f=f||void 0,k=k||void 0,c=c||void 0,e=e||void 0,p=null,q=null;if(d)try{var r=d.indexOf("x"),p=d.substring(0,r),q=d.substring(r+1)}catch(s){p=
q=0}h&&(a={slotId:h,width:p,height:q,isRonSlot:m,refElement:a,reportSegment:n},f=f?f:k?encodeURIComponent(k):void 0,c=c?c:e?encodeURIComponent(e):void 0,f&&!c&&(c=tagcade.util.extractDomain(f)),e={pageUrl:f,domain:c,publisherUUID:g},e=tagcade.util.filterUndefinedProperties(e,["pageUrl","domain","publisherUUID"]),a.domain=c,a.publisherUUID=g,l?tagcade.displayAds.registerNativeAdSlot(a,e):tagcade.displayAds.registerAdSlot(a,e),b.tc_slot=b.tc_size=b.tc_native=b.tc_page_url=b.tc_page_url_raw=b.tc_domain=
b.tc_domain_raw=void 0)}}})();
