(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"./src/util/tracing.js":function(n,e,t){"use strict";t.r(e),t.d(e,"init",function(){return u}),t.d(e,"extractSpan",function(){return l}),t.d(e,"instrumentAppPerformance",function(){return d});var r=t("./node_modules/opentracing/lib/index.js"),o=t("./node_modules/lightstep-tracer/browser.js"),s=t("./src/store/actions/debug.js"),i=t("./src/store/selectors/session.js"),c=t("./src/routes/getLiteRouteForPath.js"),a=t("./src/util/performance.js"),u=function(n){var e=n.name,t=n.host,s=n.token,i=n.appVersion,c=new o.Tracer({component_name:e,xhr_instrumentation:!1,access_token:s,collector_host:t,default_span_tags:{"component.version":i}});return Object(r.initGlobalTracer)(c),c},l=function(n,e){if(e)return n.extract(r.FORMAT_TEXT_MAP,e)},d=function(n,e,t,o,u){var l=Object(c.a)(window.location.pathname),d={"user.logged_in":Object(i.a)(u),"req.route_name":l?l.name:"unknown"},f={loggedIn:Object(i.a)(u),route:l?l.name:"unidentified"},p=function(n){return Math.round(1e3*n)},g=function(e,t,r,o){var s=r.start,i=r.end,c=n.startSpan("timing.".concat(t),{childOf:e,tags:d}).setBeginMicros(p(s)).setEndMicros(p(i));return null!=o&&o(c),c.finish(),c};a.d.observe(function(i){o.reportRender(f,i);var c=n.startSpan("timing.navigation",{references:[Object(r.followsFrom)(e)],tags:d}).setBeginMicros(p(i.load.start)).setEndMicros(p(i.load.end));g(c,"beforeDomainLookup",i.beforeDomainLookup),g(c,"domainLookup",i.domainLookup),g(c,"connect",i.connect),g(c,"request",i.request),g(c,"response",i.response),g(c,"processing",i.processing);var a=i.overallFCP,u=i.client,l=i.render;null!=a&&g(c,"firstContentfulPaint",a),null!=u&&g(c,"client",u,function(n){null!=l&&g(n,"render",l)}),c.finish(),t(Object(s.c)(c.generateTraceURL()))}),a.b.observe(function(t){o.reportInput(f,t),n.startSpan("timing.input.first.delay",{references:[Object(r.followsFrom)(e)],tags:d}).setBeginMicros(p(t.first.start)).setEndMicros(p(t.first.end)).finish()})}}}]);
//# sourceMappingURL=tracing.04d91629.chunk.js.map