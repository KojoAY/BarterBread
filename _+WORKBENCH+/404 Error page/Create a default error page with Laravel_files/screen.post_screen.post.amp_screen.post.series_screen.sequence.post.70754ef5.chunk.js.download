(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"./src/components/collection/CollectionFollowButton.jsx":function(e,t,n){"use strict";n.d(t,"b",function(){return S}),n.d(t,"a",function(){return k});var r=n("./node_modules/@babel/runtime/helpers/extends.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),l=n.n(i),a=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),s=n.n(a),c=n("./node_modules/react/index.js"),u=n("./src/framework/design-system/type/index.js"),m=n("./src/framework/design-system/components/index.js"),p=n("./src/svg/arrow-down-21px.svg"),d=n("./src/framework/design-system/components/portal/ui/Toast.jsx"),f=n("./node_modules/graphql-tag/src/index.js"),g=n.n(f),b=n("./src/util/routes.js"),E=n("./node_modules/react-apollo/react-apollo.esm.js"),h=n("./src/components/session/WithViewer.jsx"),v=n("./src/framework/reporter/index.js"),x=n("./src/framework/source/index.js"),w=n("./src/framework/track/DomMonitorContext.js"),y=n("./src/components/susi/SusiClickable.jsx");function j(){var e=s()(["\n  mutation unsubscribeCollectionLettersMutation($id: ID!) {\n    unsubscribeCollectionLetters(targetCollectionId: $id) {\n      ...CollectionFollowButton_collection\n    }\n  }\n  ","\n"]);return j=function(){return e},e}function _(){var e=s()(["\n  mutation subscribeCollectionLettersMutation($id: ID!) {\n    subscribeCollectionLetters(targetCollectionId: $id) {\n      ...CollectionFollowButton_collection\n    }\n  }\n  ","\n"]);return _=function(){return e},e}function C(){var e=s()(["\n  mutation unfollowCollectionMutation($id: ID!) {\n    unfollowCollection(targetCollectionId: $id) {\n      ...CollectionFollowButton_collection\n    }\n  }\n  ","\n"]);return C=function(){return e},e}function O(){var e=s()(["\n  mutation followCollectionMutation($id: ID!) {\n    followCollection(targetCollectionId: $id) {\n      ...CollectionFollowButton_collection\n    }\n  }\n  ","\n"]);return O=function(){return e},e}function I(){var e=s()(["\n  fragment CollectionFollowButton_collection on Collection {\n    __typename\n    id\n    viewerIsFollowing\n    name\n    viewerIsSubscribedToLetters\n    slug\n    ...SusiClickable_collection\n  }\n  ","\n"]);return I=function(){return e},e}function P(){var e=s()(["\n  fragment CollectionFollowButton_post on Post {\n    __typename\n    id\n  }\n"]);return P=function(){return e},e}var S=g()(P()),k=g()(I(),y.b),L=function(e){var t=e.children,n=e.extraTopPadding,r=e.extraBottomPadding,o=e.padding,i=e.margin,l=e.borderTop;return c.createElement(m.b,{padding:o||"".concat(n?"20px":"5px"," 20px ").concat(r?"20px":"5px"," 20px"),margin:i,borderTop:l?"BASE_LIGHTER":"NONE"},t)},T=g()(O(),k),B=g()(C(),k),F=g()(_(),k),M=g()(j(),k),R={position:"relative",left:"6px"};t.c=Object(E.d)(Object(E.f)(T,{name:"followCollectionMutation",props:function(e){var t=e.ownProps,n=e.followCollectionMutation;return{followCollectionMutation:function(){n({variables:{id:t.collection.id},optimisticResponse:{__typename:"Mutation",followCollection:{__typename:"Collection",viewerIsFollowing:!0,viewerIsSubscribedToLetters:t.collection.viewerIsSubscribedToLetters,id:t.collection.id,name:t.collection.name}}})}}}}),Object(E.f)(B,{name:"unfollowCollectionMutation",props:function(e){var t=e.ownProps,n=e.unfollowCollectionMutation;return{unfollowCollectionMutation:function(){return n({variables:{id:t.collection.id},optimisticResponse:{__typename:"Mutation",unfollowCollection:{__typename:"Collection",viewerIsFollowing:!1,viewerIsSubscribedToLetters:t.collection.viewerIsSubscribedToLetters,id:t.collection.id,name:t.collection.name}}})}}}}),Object(E.f)(F,{name:"subscribeCollectionLettersMutation",props:function(e){var t=e.ownProps,n=e.subscribeCollectionLettersMutation;return{subscribeCollectionLettersMutation:function(){return n({variables:{id:t.collection.id},optimisticResponse:{__typename:"Mutation",subscribeCollectionLetters:{__typename:"Collection",viewerIsFollowing:t.collection.viewerIsFollowing,viewerIsSubscribedToLetters:!0,id:t.collection.id,name:t.collection.name}}})}}}}),Object(E.f)(M,{name:"unsubscribeCollectionLettersMutation",props:function(e){var t=e.ownProps,n=e.unsubscribeCollectionLettersMutation;return{unsubscribeCollectionLettersMutation:function(){return n({variables:{id:t.collection.id},optimisticResponse:{__typename:"Mutation",unsubscribeCollectionLetters:{__typename:"Collection",viewerIsFollowing:t.collection.viewerIsFollowing,viewerIsSubscribedToLetters:!1,id:t.collection.id,name:t.collection.name}}})}}}}))(function(e){var t=e.collection,n=t.name||"",r=Object(v.c)(),i=Object(x.c)(),a=Object(w.b)(),s=c.useState(e.isPopoverVisible),f=l()(s,2),g=f[0],E=f[1],j=c.useState(e.isToastVisible),_=l()(j,2),C=_[0],O=_[1],I=c.useCallback(function(){E(!1)},[]);c.useEffect(function(){return a.on("scroll",I),function(){a.off("scroll",I)}},[I]);var P=c.useCallback(function(){t.viewerIsFollowing||(e.followCollectionMutation&&e.followCollectionMutation(),r.event("collection.followed",{collectionId:t.id,followSource:i})),E(!0)},[t]),S=c.useCallback(function(){r.event("collection.unfollowed",{collectionId:t.id,followSource:i}),e.unfollowCollectionMutation&&e.unfollowCollectionMutation(),E(!1)},[]),k=c.useCallback(function(){E(!1)},[]),T=c.useCallback(function(t){r.event("client.action",{action:"toggle-subscribe-letters",eventType:"click",classAttribute:"checkbox"}),t.target.checked?e.subscribeCollectionLettersMutation&&e.subscribeCollectionLettersMutation():e.unsubscribeCollectionLettersMutation&&e.unsubscribeCollectionLettersMutation(),O(!0)}),B=c.useCallback(function(){O(!1)}),F=function(e){return c.createElement(h.a,null,function(n){return n?c.createElement(m.c,o()({size:"SMALL",onClick:P},e),e.children):c.createElement(y.a,o()({collection:t,isObvious:!0,isButton:!0,buttonSize:"SMALL",susiEntry:"follow_sidebar",operation:"register",actionUrl:t.slug&&Object(b.ab)(t.slug)},e),e.children)})};return c.createElement(m.H,null,function(e){return c.createElement(c.Fragment,null,c.createElement(m.w,{isVisible:!!g,hide:k,popoverRenderFn:function(){return c.createElement(m.b,{width:"280px",display:"flex",flexDirection:"column"},c.createElement(L,{extraTopPadding:!0},c.createElement(u.b,{scale:"XS"},"You are following ",n)),c.createElement(L,null,c.createElement(m.d,null,"You will be notified when ",n," publishes new stories.")),c.createElement(L,null,c.createElement(m.d,null,c.createElement("label",null,c.createElement(m.b,{display:"inline",marginRight:"5px"},c.createElement("input",{type:"checkbox",onChange:T,checked:t.viewerIsSubscribedToLetters})),"Receive Letters in your inbox"))),c.createElement(L,{borderTop:!0,margin:"10px 0 0 0",padding:"15px 20px 5px 20px"},c.createElement(m.d,null,c.createElement(m.u,{href:Object(b.m)(t)},"View Publication"))),c.createElement(L,{extraBottomPadding:!0},c.createElement(m.d,null,c.createElement(m.u,{onClick:S},"Unfollow publication"))))}},c.createElement(F,{buttonStyle:t.viewerIsFollowing?"STRONG":"OBVIOUS"},t.viewerIsFollowing?"Following":"Follow",t.viewerIsFollowing&&c.createElement("span",{className:e(R)},c.createElement(p.a,null)))),c.createElement(d.a,{isVisible:!!C,hide:B,duration:2e3},c.createElement(m.d,null,t.viewerIsSubscribedToLetters?"You will now receive Letters from ".concat(n,"."):"You will no longer receive Letters from ".concat(n,"."))))})})},"./src/components/meter/RegWall.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/react/index.js"),l=n("./node_modules/react-redux/es/index.js"),a=n("./node_modules/graphql-tag/src/index.js"),s=n.n(a),c=n("./src/framework/design-system/components/index.js"),u=n("./src/framework/design-system/type/Detail.js"),m=n("./src/styles/colors.js");function p(e){var t=e.children;return i.createElement(i.Fragment,null,i.createElement(c.b,{marginTop:"-150px",background:"linear-gradient(".concat(Object(m.u)(0),", ").concat(Object(m.u)(1),")"),height:"150px",position:"relative",width:"100%",marginBottom:"10px"}),i.createElement(c.b,{margin:"auto",borderRadius:"4px",boxShadow:"0 2px 10px ".concat(Object(m.r)(.15)),maxWidth:"760px"},t))}var d=n("./src/components/susi/SusiClickable.jsx"),f=n("./src/components/susi/oauth-buttons/FacebookSusiButton.jsx"),g=n("./src/components/susi/oauth-buttons/GoogleSusiButton.jsx"),b=n("./src/components/ui/image/index.js"),E=n("./src/framework/source/index.js"),h=n("./src/styles/theme.js"),v=n("./src/framework/style/components/ThemeProvider.js");function x(){var e=o()(["\n  fragment RegWall_post on Post {\n    id\n    lockedSource\n    ...SusiClickable_post\n  }\n  ","\n"]);return x=function(){return e},e}function w(){var e=o()(["\n  fragment RegWall_collection on Collection {\n    name\n  }\n"]);return w=function(){return e},e}n.d(t,"a",function(){return C}),n.d(t,"b",function(){return O});var y=i.createElement(c.b,{sm:{display:"none"}},i.createElement(b.b,{alt:"",height:310,width:114,miroId:"0*GLFDRIpcedGcmuSg",strategy:"RESAMPLE",rules:{paddingBottom:"16px"}})),j=i.createElement(c.b,{display:"none",sm:{display:"block"}},i.createElement(b.b,{alt:"",height:60,width:300,miroId:"1*K4MHnSAfehAx3IJQxj7tfg.png",strategy:"RESAMPLE"})),_=function(){var e={operation:"register"};return i.createElement(c.b,{display:"flex",margin:"28px 0",sm:{flexDirection:"column"}},i.createElement(c.b,{marginRight:"12px",sm:{marginRight:"0",marginBottom:"12px"}},i.createElement(g.a,e)),i.createElement(f.a,e))},C=s()(w()),O=s()(x(),d.c);t.c=Object(l.b)(function(e){return{productName:e.config.productName}})(function(e){var t=e.collection,n=e.post,r=e.productName,o="LOCKED_POST_SOURCE_SYNDICATED"===n.lockedSource;return i.createElement(v.a,{theme:h.a},i.createElement(E.b,{source:{susiEntry:"post_regwall",postId:n.id}},i.createElement(p,null,i.createElement(c.b,{display:"flex",sm:{flexDirection:"column",textAlign:"center"}},y,i.createElement(c.b,{padding:"48px 56px",sm:{padding:"28px 16px 12px"}},i.createElement(c.s,{size:"h3",smSize:"h4"},function(e){return e?"This story is just a click away.":"Keep the story going. Sign up for an extra free read."}(o)),i.createElement(u.a,{scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"}},i.createElement(c.b,{marginTop:"8px"},function(e,t,n){var r=e&&e.name||n;return t?"Sign up for a free ".concat(n," account to read this story from ").concat(r,". Plus, get one more story in your member preview this month."):"You've completed your member preview for this month, but when you sign up for a free ".concat(n," account, you get one more story. ")}(t,o,r)),i.createElement(_,null),"Already have an account?"," ",i.createElement(d.a,{isObvious:!0,operation:"login",post:n},"SignÂ in"))),j))))})},"./src/components/post-listing/PostListingItemRecirc.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/react/index.js"),l=n("./node_modules/graphql-tag/src/index.js"),a=n.n(l),s=n("./src/components/session/WithFlag.jsx"),c=n("./src/components/session/RequireFlag.jsx"),u=n("./src/components/ui/image/FocusableMiroImage.js"),m=n("./src/components/post/multivote/MultiVote.jsx"),p=n("./src/framework/design-system/components/index.js"),d=n("./src/framework/track/index.js"),f=n("./src/framework/source/index.js"),g=n("./src/components/post/PostByline.jsx"),b=n("./src/util/routes.js"),E=n("./src/components/post/bookmark/index.js");function h(){var e=o()(["\n  fragment PostListingItemRecirc_post on Post {\n    id\n    title\n    isLocked\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n    }\n    ...PostByline_post\n    ...PostPresentationTracker_post\n    ...BookmarkButton_post\n    ...MultiVote_post\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return h=function(){return e},e}var v=function(e){var t=e.height,n=e.width;return function(e){return{paddingBottom:"".concat(t/n*100,"%"),position:"relative"}}},x=function(e){return{height:"100%",position:"absolute",width:"100%"}},w=function(e){var t=e.title,n=e.url;return i.createElement(p.f,{href:n},i.createElement(p.r,{size:"h4",tag:"h3"},t))};t.b=function(e){var t,n,r,o,l,a,h,y,j=e.post,_=j.previewImage?j.previewImage.id:"",C=j.title?j.title:"",O=(t={id:_||"1*hn4v1tCaJy7cWMyb0bpNpQ.png",width:328,height:218,title:C,focusPercentX:j.previewImage?j.previewImage.focusPercentX:null,focusPercentY:j.previewImage?j.previewImage.focusPercentY:null},r=t.id,o=t.width,l=t.height,a=t.title,h=t.focusPercentX,y=t.focusPercentY,r?(n="number"==typeof h&&"number"==typeof y?[h,y]:[50,50],i.createElement(p.H,null,function(e){return i.createElement("div",{className:e(v({height:l,width:o}))},i.createElement("div",{className:e(x)},i.createElement(u.a,{miroId:r,alt:a,imgHeight:l,imgWidth:o,width:"100%",height:"100%",freezeGifs:!1,focusPercent:n})))})):null);return i.createElement(d.b,{post:j,presentationContext:"PLACEMENT"},i.createElement(p.b,{display:"flex",flexDirection:"column",marginBottom:"32px"},O&&i.createElement(p.b,{marginBottom:"24px"},i.createElement(p.u,{display:"block",href:Object(b.N)(j)},O)),i.createElement(p.b,{marginBottom:"24px"},i.createElement(w,{title:j.title?j.title:"",url:Object(b.N)(j)})),i.createElement(p.b,{display:"flex",alignItems:"center",justifyContent:"space-between"},i.createElement(p.b,{flexShrink:"1",marginRight:"10px"},i.createElement(s.a,{name:"remove_stars_ui"},function(e){return i.createElement(g.b,{post:j,showBio:!1,avatarSize:40,showStar:!e&&!!j.isLocked})})),i.createElement(p.b,{display:"flex",alignItems:"center"},i.createElement(c.a,{name:"enable_lite_claps"},i.createElement(f.b,{source:{susiEntry:"clap_preview"},extendSource:!0},i.createElement(m.a,{post:j,buttonStyle:"SUBTLE"})),i.createElement(p.b,{borderRight:"BASE_LIGHTER",marginLeft:"12px",marginRight:"10px",height:"20px",width:"1px"})),i.createElement(E.a,{post:j,isSmall:!0})))))};var y=a()(h(),g.a,d.c,E.b,m.b)},"./src/components/post/NormalizePostBodyModel.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/graphql-tag/src/index.js"),l=n.n(i);function a(){var e=o()(["\n  fragment GetFeaturedImageIndex_bodyModel on RichText {\n    paragraphs {\n      type\n      text\n      metadata {\n        isFeatured\n      }\n    }\n  }\n"]);return a=function(){return e},e}function s(){var e=o()(["\n  fragment GetTitleIndexMap_bodyModel on RichText {\n    paragraphs {\n      type\n      text\n    }\n  }\n"]);return s=function(){return e},e}n.d(t,"d",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return m}),n.d(t,"a",function(){return p});var c=function(e){for(var t,n=null,r=null,o=null,i=0;i<=e.length;i++){var l=e[i];if(!l)break;if(null!=n){"H4"===l.type&&(r=i);break}if("H3"===l.type||"H2"===l.type)n=i;else{if(null!=o)break;if("H4"!==l.type){if("IMG"===l.type||"IFRAME"===l.type||"P"===l.type&&"string"==typeof l.text&&(t=l.text,/^[\s\xa0]*$/.test(t)))continue;break}o=i}}return{titleIndex:n,subtitleIndex:r}},u=l()(s()),m=function(e){for(var t=null,n=0;n<e.length;n++)if("IMG"===e[n].type){if(e[n].metadata&&e[n].metadata.isFeatured)return n;null===t&&(t=n)}return t},p=l()(a())},"./src/components/post/PostMetadata.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/react/index.js"),l=n("./node_modules/graphql-tag/src/index.js"),a=n.n(l),s=n("./node_modules/react-redux/es/index.js"),c=n("./src/metadata/Helmet.jsx"),u=n("./src/util/routes.js"),m=n("./src/util/miroImage.js"),p=n("./src/util/navigation.js");function d(){var e=o()(["\n  fragment PostJsonLd_post on Post {\n    id\n    title\n    canonicalUrl\n    mediumUrl\n    creator {\n      name\n      username\n    }\n    collection {\n      id\n      name\n      domain\n      slug\n      logo {\n        id\n        originalWidth\n        originalHeight\n      }\n    }\n    previewImage {\n      id\n      originalWidth\n      originalHeight\n    }\n    firstPublishedAt\n    updatedAt\n    tags {\n      displayTitle\n    }\n    topics {\n      name\n      slug\n    }\n    sequence {\n      slug\n    }\n    lockedSource\n  }\n"]);return d=function(){return e},e}var f={TAG:"Tag",TOPIC:"Topic",PUBLICATION:"Publication",SEQUENCE:"Sequence",LOCKED_POST_SOURCE:"LockedPostSource",ELEVATED:"Elevated",LAYER_CAKE:"LayerCake",LITE:"Lite"},g={id:"1*OMF3fSqH8t4xBJ9-6oZDZw.png",originalWidth:545,originalHeight:106};function b(e){var t=e.id,n=e.originalWidth,r=e.originalHeight;if(!t||!n||!r)return null;var o=Math.min(n,1920),i=o/n;return{"@type":"ImageObject",width:o,height:Math.floor(r*i),url:Object(m.a)({miroId:t,width:o})}}function E(e,t){return"".concat(e,":").concat(t)}var h=Object(s.b)(function(e){return{productName:e.config.productName,host:e.navigation.host}})(function(e){var t=e.post,n=e.productName,r=e.host,o=t.canonicalUrl,l=t.collection,a=t.creator,s=t.id,m=t.mediumUrl,d=t.title,h=t.previewImage,v=t.firstPublishedAt,x=t.updatedAt,w=t.tags,y=t.topics,j=t.sequence,_=t.lockedSource,C=l&&l.logo&&l.logo.id?l.logo:g,O=l?{"@type":"Organization",name:l.name,url:l.domain||Object(p.b)(r,Object(u.m)(l)),logo:b(C)}:{"@type":"Organization",name:n,url:Object(p.b)(r,"/"),logo:b(C)},I=[E(f.LITE,"true")];w&&w.forEach(function(e){e.displayTitle&&I.push(E(f.TAG,e.displayTitle))}),y&&y.forEach(function(e){e.name?I.push(E(f.TOPIC,e.name)):e.slug&&I.push(E(f.TOPIC,e.slug))}),l&&l.slug&&I.push(E(f.PUBLICATION,l.slug)),I.push(E(f.ELEVATED,(!!j).toString())),j&&j.slug&&I.push(E(f.SEQUENCE,j.slug)),_&&I.push(E(f.LOCKED_POST_SOURCE,_));var P={"@context":"http://schema.org","@type":"NewsArticle",image:h&&h.id?b(h):null,thumbnailUrl:h&&h.id?b(h):null,url:o||m,dateCreated:v,datePublished:v,dateModified:x,headline:d,name:d,articleId:s,keywords:I.length?I:null,author:a&&a.name&&a.username?{"@type":"Person",name:a.name||a.username,url:Object(p.b)(r,Object(u.sb)(a.username))}:null,creator:a&&a.name,publisher:O,mainEntityOfPage:o};return i.createElement(c.a,null,i.createElement("script",{type:"application/ld+json"},JSON.stringify(P)))}),v=a()(d()),x=n("./src/util/numbers.js");function w(){var e=o()(["\n  fragment PostMetadata_post on Post {\n    id\n    title\n    socialTitle\n    canonicalUrl\n    mediumUrl\n    firstPublishedAt\n    latestPublishedAt\n    visibility\n    readingTime\n    creator {\n      name\n      username\n      twitterScreenName\n    }\n    collection {\n      ampEnabled\n      twitterUsername\n      facebookPageId\n    }\n    ...PostJsonLd_post\n  }\n  ","\n"]);return w=function(){return e},e}n.d(t,"a",function(){return y});t.b=Object(s.b)(function(e){return{iTunesAppId:e.config.iTunesAppId}})(function(e){var t,n,r=e.description,o=e.featuredImageId,l=e.isAmp,a=e.iTunesAppId,s=e.post,p=s.canonicalUrl,d=s.collection,f=s.creator,g=s.firstPublishedAt,b=s.id,E=s.latestPublishedAt,v=s.mediumUrl,w=s.socialTitle,y=s.title,j=s.visibility,_=d&&d.ampEnabled,C=f&&f.name;o&&(t=Object(m.a)({height:630,ignorePixelRatio:!0,miroId:o,strategy:"CROP",width:1200})),f&&f.username&&(n=Object(u.sb)(f.username));var O=Object(u.g)(b),I=!g||"PUBLIC"!==j&&"LOCKED"!==j,P=E&&new Date(E).toISOString(),S=Object(x.c)(s.readingTime||0),k=f&&f.twitterScreenName,L=d&&d.twitterUsername||"Medium",T=d&&d.facebookPageId,B=i.useMemo(function(){return i.createElement(c.a,{htmlAttributes:l?{amp:void 0}:{}},i.createElement("meta",{property:"og:type",content:"article"}),P&&i.createElement("meta",{property:"article:published_time",content:P}),_&&!l?i.createElement("link",{rel:"amphtml",href:Object(u.c)(b)}):null,i.createElement("title",null,y),i.createElement("meta",{name:"title",content:y}),i.createElement("meta",{property:"og:title",content:w||y}),i.createElement("meta",{property:"twitter:title",content:w||y}),T&&i.createElement("meta",{property:"fb:pages",content:T}),i.createElement("meta",{name:"twitter:site",content:"@".concat(L)}),i.createElement("meta",{name:"twitter:app:url:iphone",content:O}),i.createElement("meta",{property:"al:android:url",content:O}),i.createElement("meta",{property:"al:ios:url",content:O}),i.createElement("meta",{name:"apple-itunes-app",content:"app-id=".concat(a,",app-argument=").concat(O)}),i.createElement("meta",{property:"al:android:app_name",content:"Medium"}),r&&i.createElement("meta",{name:"description",content:r}),r&&i.createElement("meta",{property:"og:description",content:r}),r&&i.createElement("meta",{property:"twitter:description",content:r}),i.createElement("meta",{property:"og:url",content:v}),i.createElement("meta",{property:"al:web:url",content:v}),t&&i.createElement("meta",{property:"og:image",content:t}),t&&i.createElement("meta",{name:"twitter:image:src",content:t}),i.createElement("meta",{name:"twitter:card",content:t?"summary_large_image":"summary"}),n&&i.createElement("meta",{property:"article:author",content:n}),n&&i.createElement("link",{rel:"author",href:n}),k&&i.createElement("meta",{name:"twitter:creator",content:"@".concat(k)}),C&&i.createElement("meta",{name:"author",content:C}),i.createElement("link",{rel:"canonical",href:p||v}),i.createElement("meta",{name:"robots",content:"".concat(I?"noindex":"index",",follow")}),i.createElement("meta",{name:"referrer",content:"PUBLIC"===j?"unsafe-url":"origin"}),l?null:i.createElement("meta",{name:"twitter:label1",value:"Reading time"}),l?null:i.createElement("meta",{name:"twitter:data1",value:"".concat(S," min read")}))},[l,y,p,v,t,_,b,w,r,n,C,k,O,I,P]);return i.createElement(i.Fragment,null,B,i.createElement(h,{post:s}))});var y=a()(w(),v)},"./src/components/post/PostSidebar.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return P});var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),l=n.n(i),a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=n.n(a),c=n("./node_modules/react/index.js"),u=n("./node_modules/graphql-tag/src/index.js"),m=n.n(u),p=n("./src/util/routes.js"),d=n("./src/components/collection/CollectionFollowButton.jsx"),f=n("./src/components/post/multivote/MultiVote.jsx"),g=n("./src/components/session/RequireFlag.jsx"),b=n("./src/components/post/bookmark/index.js"),E=n("./src/framework/track/DomMonitorContext.js"),h=n("./src/framework/design-system/components/index.js"),v=n("./src/framework/design-system/type/index.js"),x=n("./src/styles/breakpoints.js"),w=n("./src/util/dom.js"),y=n("./src/WatchBounds.js"),j=n("./src/framework/source/index.js");function _(){var e=o()(["\n  fragment PostSidebar_post on Post {\n    id\n    clapCount\n    collection {\n      id\n      description\n      ...CollectionFollowButton_collection\n    }\n    ...BookmarkButton_post\n    ...CollectionFollowButton_post\n    ...MultiVote_post\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return _=function(){return e},e}var C=function(e){return function(t){return s()({opacity:e?1:0,pointerEvents:e?"auto":"none",willChange:"opacity",position:"fixed",transition:"opacity 200ms",width:"131px",left:"50%",transform:"translateX(calc(-540px + 24px))",top:"calc(65px + 54px + 40px)"},x.lg(t),{display:"none"})}};var O=function(e,t){return function(){var n=new IntersectionObserver(function(n){var r=e.get("ghost-track");if(r){var o=n.find(function(e){return e.target===r.ref.current});o&&t(o.isIntersecting)}else t(!1)});return e.forEach(function(e){n.observe(e.ref.current)}),function(){n.disconnect()}}},I=function(e,t){return function(){return e.on("scroll_throttled",t),e.on("scroll_end",t),e.on("resize_throttled",t),function(){e.off("scroll_throttled",t),e.off("scroll_end",t),e.off("resize_throttled",t)}}};var P=m()(_(),d.b,d.a,b.b,f.b);t.b=function(e){var t=c.useContext(y.b).watchedBounds,n=c.useState(e.isOnPage||!1),r=l()(n,2),o=r[0],i=r[1],a=c.useState(e.isClearOfBounds||!1),s=l()(a,2),u=s[0],m=s[1],x=c.useRef(),_=e.post,P=_.collection,S=Object(E.b)();c.useEffect(O(t,i),[t]);var k=c.useCallback(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(){var o=e.current;if(o){var i=r.threshold||10,l=["image","footer","byline","title","header"],a=Array.from(t.values()).filter(function(e){var t=e.opts;return l.includes(t.type)}).map(function(e){var t=e.ref,n=e.opts,r=n&&n.offset,o=Object(w.a)(t.current);return Object(w.h)(o,r)}),s=Object(w.a)(o),c=!a.some(function(e){return Object(w.f)(e,s,i)});n(c)}}}(x,t,m,{threshold:10}),[t,m]);c.useEffect(I(S,k),[S,k]);var L=o&&u;return c.createElement(j.b,{source:{susiEntry:"post_sidebar",name:"post_sidebar"}},c.createElement(h.H,null,function(e){return c.createElement("div",{className:e(C(L)),ref:x,"data-test-id":"post-sidebar"},c.createElement(h.b,{display:"flex",flexDirection:"column"},P&&c.createElement(g.a,{name:"enable_pppp_pub_sidebar"},c.createElement(h.b,{paddingBottom:"28px",borderBottom:"BASE_LIGHTER"},P.name&&c.createElement(h.u,{href:Object(p.m)(P)},c.createElement(v.b,{scale:"XS"},P.name)),P.description&&c.createElement(h.b,{paddingTop:"2px",paddingBottom:"20px"},c.createElement(v.a,{scale:"M",clamp:6},P.description)),c.createElement(d.c,{collection:P,post:_}))),c.createElement(j.b,{source:{susiEntry:"clap_sidebar"},extendSource:!0},c.createElement(h.b,{display:"flex",marginBottom:"19px",marginLeft:"-5px",paddingTop:"28px"},c.createElement(f.a,{post:_,buttonStyle:"SUBTLE_PADDED"}))),c.createElement(b.a,{post:_})))}))}},"./src/components/post/body/InteractivePostBody.js":function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n("./node_modules/@babel/runtime/helpers/extends.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),l=n.n(i),a=n("./node_modules/react/index.js"),s=n("./node_modules/graphql-tag/src/index.js"),c=n.n(s),u=n("./node_modules/react-apollo/react-apollo.esm.js"),m=n("./src/components/post/body/PostBody.jsx"),p=n("./src/components/session/WithFlag.jsx");function d(){var e=l()(["\n  query InteractivePostBodyQuery($postId: ID!) {\n    post(id: $postId) {\n      id\n      highlights {\n        id\n        ...PostBody_highlight\n      }\n    }\n  }\n  ","\n"]);return d=function(){return e},e}function f(){var e=l()(["\n  fragment InteractivePostBody_post on Post {\n    id\n\n    # please note that the postMeteringOptions is defined in handlers that use InteractivePostBody\n    # (PostHandler and SequencePostHandler)\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n      bodyModel {\n        ...PostBody_bodyModel\n      }\n    }\n  }\n  ","\n"]);return f=function(){return e},e}var g=c()(f(),m.a),b=c()(d(),m.b),E=a.forwardRef(function(e,t){var n=e.post,r=e.postBodyInserts,i=n.content;if(!i)throw new Error("Expected post to have content.");var l={bodyModel:i.bodyModel,postBodyInserts:r,ref:t,richTextStyle:"FULL_PAGE"};return a.createElement(p.a,{name:"enable_lite_post_highlights",nonBlocking:!0},function(e){return e?a.createElement(u.c,{ssr:!1,query:b,variables:{postId:n.id}},function(e){e.loading,e.error;var t=e.data,n=(t=void 0===t?{}:t).post,r=n&&n.highlights?n.highlights:null;return a.createElement(m.c,o()({},l,{highlights:r}))}):a.createElement(m.c,l)})});t.b=E},"./src/components/post/footer/PostFooter.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/graphql-tag/src/index.js"),l=n.n(i),a=n("./node_modules/react/index.js"),s=n.n(a),c=n("./node_modules/react-redux/es/index.js"),u=n("./src/framework/design-system/components/index.js"),m=n("./src/framework/design-system/type/index.js"),p=n("./src/components/style/index.js"),d=n("./src/styles/flex.js"),f=n("./src/util/post/claps.js"),g=n("./node_modules/@babel/runtime/helpers/extends.js"),b=n.n(g),E=n("./node_modules/react-apollo/react-apollo.esm.js"),h=n("./src/framework/source/SourceContext.jsx"),v=n("./src/components/ui/PopoverMenu.jsx"),x=n("./src/components/susi/SusiClickable.jsx"),w=n("./src/components/session/WithViewer.jsx"),y=n("./src/util/routes.js"),j=n("./src/components/session/WithFlag.jsx"),_=n("./src/components/post/bookmark/index.js"),C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var O=function(e){e.styles;var t=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["styles"]);return s.a.createElement("svg",C({width:"21",height:"21",viewBox:"0 0 21 21",xmlns:"http://www.w3.org/2000/svg"},t),s.a.createElement("path",{d:"M18.26 10.55c0-4.3-3.47-7.79-7.75-7.79a7.77 7.77 0 0 0-7.75 7.79 7.77 7.77 0 0 0 6.54 7.68v-5.49H7.4v-2.2h1.9V8.92c0-1.88 1.14-2.9 2.8-2.9.8 0 1.49.06 1.69.08v1.97h-1.15c-.91 0-1.1.43-1.1 1.07v1.4h2.17l-.28 2.2h-1.88v5.52a7.77 7.77 0 0 0 6.7-7.71"}))},I=n("./src/svg/twitter-filled-21px.svg"),P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var S=function(e){e.styles;var t=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["styles"]);return s.a.createElement("svg",P({width:"25",height:"25",xmlns:"http://www.w3.org/2000/svg"},t),s.a.createElement("g",{fillRule:"evenodd"},s.a.createElement("path",{d:"M15.6 5a.42.42 0 0 0 .17-.3.42.42 0 0 0-.12-.33l-2.8-2.79a.5.5 0 0 0-.7 0l-2.8 2.8a.4.4 0 0 0-.1.32c0 .12.07.23.16.3h.02a.45.45 0 0 0 .57-.04l2-2V10c0 .28.23.5.5.5s.5-.22.5-.5V2.93l2.02 2.02c.08.07.18.12.3.13.11.01.21-.02.3-.08v.01"}),s.a.createElement("path",{d:"M18 7h-1.5a.5.5 0 0 0 0 1h1.6c.5 0 .9.4.9.9v10.2c0 .5-.4.9-.9.9H6.9a.9.9 0 0 1-.9-.9V8.9c0-.5.4-.9.9-.9h1.6a.5.5 0 0 0 .35-.15A.5.5 0 0 0 9 7.5a.5.5 0 0 0-.15-.35A.5.5 0 0 0 8.5 7H7a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h11a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2"})))};function k(){var e=o()(["\n  fragment PostFooterSocialPopover_post on Post {\n    id\n  }\n"]);return k=function(){return e},e}function L(e){return{fill:e.baseColor.fill.normal}}function T(e){return{fill:e.baseColor.fill.lighter}}function B(){return a.createElement(u.H,null,function(e){return a.createElement(O,{className:e(T)})})}function F(){return a.createElement(u.H,null,function(e){return a.createElement(I.a,{className:e(T)})})}function M(){return a.createElement(u.H,null,function(e){return a.createElement(S,{className:e(L)})})}function R(e){var t=e.post.id;return a.createElement(u.G,null,function(e){var n=e.isVisible,r=e.toggle,o=e.hide;return a.createElement(u.w,{isVisible:n,hide:o,popoverRenderFn:function(){return a.createElement(v.a,null,a.createElement(v.b,null,a.createElement(u.b,{marginTop:"-4px",marginBottom:"12px"},a.createElement(u.u,{href:Object(y.gb)(t)},a.createElement(F,null)," ",a.createElement(m.a,{scale:"S",tag:"span"},"Share on Twitter"))),a.createElement(u.b,{marginBottom:"-3px"},a.createElement(u.u,{href:Object(y.y)(t)},a.createElement(B,null)," ",a.createElement(m.a,{scale:"S",tag:"span"},"Share on Facebook")))))}},a.createElement(u.u,{onClick:r},a.createElement(M,null)))})}var U=l()(k()),A=n("./src/components/post/multivote/MultiVote.jsx"),N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var q=function(e){e.styles;var t=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["styles"]);return s.a.createElement("svg",N({width:"29",height:"29",xmlns:"http://www.w3.org/2000/svg"},t),s.a.createElement("path",{d:"M23.2 5H5.8a.8.8 0 0 0-.8.8V23.2c0 .44.35.8.8.8h9.3v-7.13h-2.38V13.9h2.38v-2.38c0-2.45 1.55-3.66 3.74-3.66 1.05 0 1.95.08 2.2.11v2.57h-1.5c-1.2 0-1.48.57-1.48 1.4v1.96h2.97l-.6 2.97h-2.37l.05 7.12h5.1a.8.8 0 0 0 .79-.8V5.8a.8.8 0 0 0-.8-.79"}))},H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var D=function(e){e.styles;var t=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["styles"]);return s.a.createElement("svg",H({width:"25",height:"25",xmlns:"http://www.w3.org/2000/svg",viewBox:"-480.5 272.5 21 21"},t),s.a.createElement("path",{d:"M-463 284.6c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zm-7-.9c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zm-7-.9c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5z"}))},G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var V=function(e){e.styles;var t=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["styles"]);return s.a.createElement("svg",G({width:"29",height:"29",xmlns:"http://www.w3.org/2000/svg"},t),s.a.createElement("path",{d:"M22.05 7.54a4.47 4.47 0 0 0-3.3-1.46 4.53 4.53 0 0 0-4.53 4.53c0 .35.04.7.08 1.05A12.9 12.9 0 0 1 5 6.89a5.1 5.1 0 0 0-.65 2.26c.03 1.6.83 2.99 2.02 3.79a4.3 4.3 0 0 1-2.02-.57v.08a4.55 4.55 0 0 0 3.63 4.44c-.4.08-.8.13-1.21.16l-.81-.08a4.54 4.54 0 0 0 4.2 3.15 9.56 9.56 0 0 1-5.66 1.94l-1.05-.08c2 1.27 4.38 2.02 6.94 2.02 8.3 0 12.86-6.9 12.84-12.85.02-.24 0-.43 0-.65a8.68 8.68 0 0 0 2.26-2.34c-.82.38-1.7.62-2.6.72a4.37 4.37 0 0 0 1.95-2.51c-.84.53-1.81.9-2.83 1.13z"}))};function z(){var e=o()(["\n  fragment PostFooterActionsBar_post on Post {\n    id\n    isPublished\n    viewerClapCount\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n    }\n    ...BookmarkButton_post\n    ...MultiVote_post\n    ...SusiClickable_post\n    ...PostFooterSocialPopover_post\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return z=function(){return e},e}function W(e){e.theme;return{marginTop:"15px"}}function $(e){return{fill:e.baseColor.fill.normal}}function Y(){return a.createElement(u.H,null,function(e){return a.createElement(q,{className:e($)})})}function J(){return a.createElement(u.H,null,function(e){return a.createElement(D,{className:e($)})})}function Q(){return a.createElement(u.H,null,function(e){return a.createElement(V,{className:e($)})})}var K=Object(E.f)(A.c,{props:A.d})(function(e){var t=e.post,n=e.viewerId,r=e.submitClaps,o=e.clapsForPost,i=e.setClapCountsForPost,l=t.id,s=t.isPublished,c=t.content,m=o.clapCount,f=o.viewerClapCount,g=(c||{}).isLockedPreviewOnly;return a.createElement(p.a,{rules:[d.a,W],"style-flexDirection":"row","style-justifyContent":"space-between"},a.createElement(j.a,{name:"enable_lite_claps"},function(e){return e&&g?a.createElement(u.b,null):a.createElement(h.b,{source:{name:"post_actions_footer",susiEntry:"clap_footer"}},a.createElement(A.a,{post:t,buttonStyle:"OBVIOUS"}))}),a.createElement(u.b,{display:"flex",alignItems:"center"},s&&a.createElement(a.Fragment,null,a.createElement(u.b,{sm:{display:"none"},flexGrow:"0",paddingRight:"8px"},a.createElement(u.u,{href:Object(y.gb)(l)},a.createElement(Q,null))),a.createElement(u.b,{sm:{display:"none"},flexGrow:"0",paddingRight:"8px"},a.createElement(u.u,{href:Object(y.y)(l)},a.createElement(Y,null))),a.createElement(u.b,{display:"none",sm:{display:"block"},paddingRight:"8px"},a.createElement(R,{post:{id:t.id}})),a.createElement(u.b,{flexGrow:"0",paddingRight:"8px"},a.createElement(h.b,{source:{name:"post_actions_footer",susiEntry:"bookmark_footer"}},a.createElement(_.a,{post:t})))),a.createElement(u.G,null,function(e){var o=e.isVisible,s=e.toggle,c=e.hide;return a.createElement(u.w,{isVisible:o,hide:c,popoverRenderFn:function(){return a.createElement(v.a,null,n&&m&&f&&f>0?a.createElement(v.b,null,a.createElement(u.u,{onClick:function(){r(-f),i({postId:l,clapCount:m-f,viewerClapCount:0,viewerHasClappedSinceFetch:!0}),c()}},"Undo applause for this post")):null,a.createElement(v.b,null,a.createElement(x.a,{operation:"register",post:t,susiEntry:"report_footer"},"Report story")))}},a.createElement(u.b,{flexGrow:"0"},a.createElement(u.u,{onClick:s},a.createElement(J,null))))})))}),X=function(e){return a.createElement(w.a,null,function(t){return a.createElement(K,b()({},e,{viewerId:t&&t.id}))})},Z=l()(z(),_.b,A.b,x.c,U),ee=n("./src/components/collection/CollectionAvatar.jsx"),te=n("./src/components/collection/CollectionFollowButton.jsx"),ne=n("./src/components/user/UserFollowButton.jsx"),re=n("./src/components/session/RequireFlag.jsx"),oe=n("./src/components/user/UserAvatar.jsx");function ie(){var e=o()(["\n  fragment PostFooterByline_post on Post {\n    id\n    creator {\n      name\n      username\n      bio\n      ...UserAvatar_user\n      ...UserFollowButton_user\n    }\n    collection {\n      name\n      description\n      ...CollectionAvatar_collection\n      ...CollectionFollowButton_collection\n    }\n    ...UserFollowButton_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return ie=function(){return e},e}var le=function(e){var t=e.theme;return{marginTop:"25px",marginBottom:"25px",paddingTop:"32px",borderTop:"solid 1px ".concat(t.baseColor.border.lighter)}},ae=function(e){var t=e.creator,n=e.post,r=t.name,o=t.username,i=t.bio,l=void 0===i?"":i;return r&&o?a.createElement(u.H,null,function(e){return a.createElement(u.b,{marginBottom:"32px",position:"relative",minHeight:"".concat(85,"px")},a.createElement(u.b,{tag:"span",sm:{display:"flex",alignItems:"center",marginBottom:"24px"}},a.createElement(u.b,{position:"absolute",sm:{position:"relative",width:"".concat(107,"px")}},a.createElement(oe.b,{user:t,size:85,link:!0})),a.createElement(u.b,{tag:"span"},a.createElement(u.b,{paddingLeft:"".concat(107,"px"),sm:{paddingLeft:"0"}},a.createElement(m.c,null,"Written by")),a.createElement(u.b,{paddingLeft:"".concat(107,"px"),display:"flex",marginBottom:"6px",sm:{paddingLeft:"0"}},a.createElement(u.b,{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},a.createElement(m.b,{scale:"M"},a.createElement(u.u,{href:Object(y.sb)(o)},r||o)),a.createElement(u.b,{sm:{display:"none"}},a.createElement(ne.c,{buttonSize:"SMALL",post:n,user:t})))))),a.createElement(u.b,{maxWidth:"555px",paddingLeft:"".concat(107,"px"),sm:{display:"block",paddingLeft:"0"}},a.createElement(u.A,null,l),a.createElement(u.b,{display:"none",sm:{display:"block",marginTop:"24px"}},a.createElement(ne.c,{buttonSize:"SMALL",post:n,user:t}))))}):null},se=function(e){var t=e.collection,n=e.post,r=t.name,o=t.description,i=void 0===o?"":o;return a.createElement(u.H,null,function(e){return a.createElement(u.b,{marginBottom:"32px",position:"relative",minHeight:"".concat(85,"px")},a.createElement(u.b,{tag:"span",sm:{display:"flex",alignItems:"center",marginBottom:"24px"}},a.createElement(u.b,{position:"absolute",sm:{position:"relative",width:"".concat(107,"px")}},a.createElement(ee.a,{collection:t,size:85,link:!0})),a.createElement(u.b,{tag:"span"},a.createElement(u.b,{paddingLeft:"".concat(107,"px"),display:"flex",marginBottom:"6px",sm:{paddingLeft:"0"}},a.createElement(u.b,{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},a.createElement(m.b,{scale:"M"},a.createElement(u.u,{href:Object(y.m)(t)},r)),a.createElement(re.a,{name:"enable_pppp_pub_sidebar"},a.createElement(u.b,{sm:{display:"none"}},a.createElement(te.c,{collection:t,post:n}))))))),a.createElement(u.b,{maxWidth:"550px",paddingLeft:"".concat(107,"px"),sm:{display:"block",paddingLeft:"0"}},a.createElement(u.A,null,i),a.createElement(re.a,{name:"enable_pppp_pub_sidebar"},a.createElement(u.b,{display:"none",sm:{display:"block",marginTop:"24px"}},a.createElement(te.c,{collection:t,post:n})))))})};function ce(e){var t=e.post,n=t.creator,r=t.collection;return n?a.createElement(p.a,{rules:le},a.createElement(ae,{creator:n,post:t}),r&&a.createElement(a.Fragment,null,a.createElement(u.b,{paddingTop:"32px"}),a.createElement(se,{collection:r,post:t}))):null}var ue=l()(ie(),ee.b,te.a,te.b,oe.a,ne.a,ne.b);function me(){var e=o()(["\n  fragment PostFooterResponsesButton_post on Post {\n    id\n    responsesCount\n  }\n"]);return me=function(){return e},e}var pe=function(e){var t=e.post,n=t.id,r=t.responsesCount,o=r&&r>0,i=Object(y.V)(n);return a.createElement(re.a,{name:"enable_pppp_responses_button"},o?a.createElement(u.c,{shape:"RECTANGLE",size:"LARGE",buttonStyle:"STRONG",href:i},"See responses (",r,")"):a.createElement(u.b,{sm:{display:"none"}},a.createElement(u.c,{shape:"RECTANGLE",size:"LARGE",buttonStyle:"STRONG",href:i},"Write the first response")))},de=l()(me()),fe=n("./src/components/post-listing/PostListingItemRecirc.jsx"),ge=n("./src/framework/source/index.js");function be(){var e=o()(["\n  query PostRecircQuery($postId: ID!, $pagingOptions: PagingOptions) {\n    post(id: $postId) {\n      recirc(paging: $pagingOptions) {\n        items {\n          __typename\n          ... on Post {\n            ...PostListingItemRecirc_post\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return be=function(){return e},e}var Ee=l()(be(),fe.a);function he(e){var t=e.posts,n=e.sourceName;return a.createElement(u.k,{display:"flex",marginTop:"32px",justifyContent:"space-between",gutter:!1},a.createElement(u.k,{marginBottom:"32px",centered:!0,gutter:!1},a.createElement(u.b,{marginBottom:"32px"},a.createElement(u.t,{size:"h4"},"More From Medium")),a.createElement(u.b,{display:"flex",sm:{flexWrap:"wrap"}},t.map(function(e,r){var o=r===t.length-1;return a.createElement(u.b,{key:"recirc-".concat(e.id),marginRight:o?"0px":"24px",display:"block",flexGrow:"1",width:"calc(33.333% - 16px)",sm:{width:"100%"}},a.createElement(ge.b,{source:{name:n,index:r}},a.createElement(fe.b,{post:e})))}))))}function ve(e){var t=e.postId;return a.createElement(E.c,{ssr:!1,query:Ee,variables:{postId:t,pagingOptions:{limit:3}}},function(e){var t=e.loading,n=e.error,r=e.data,o=(r=void 0===r?{}:r).post;return!t&&!n&&o&&o.recirc&&o.recirc.items?a.createElement(he,{posts:o.recirc.items,sourceName:"post_recirc"}):null})}var xe=n("./src/components/sequence/SequenceCoverImage.jsx");function we(){var e=o()(["\n  fragment SequencePreview_sequence on Sequence {\n    sequenceId\n    ...SequenceCoverImage_sequence\n    description\n    eyebrow\n    slug\n    tabletImage {\n      id\n    }\n    title\n    hideIndex\n  }\n  ","\n"]);return we=function(){return e},e}var ye=function(e){return{textTransform:"uppercase"}};function je(e){var t=e.sequence;return a.createElement(u.b,{display:"flex",flexDirection:"column",marginBottom:"56px"},a.createElement(u.b,{display:"flex",marginTop:"48px",xs:{marginTop:"32px",display:"flex"}},a.createElement(u.b,{flexShrink:"0",borderRadius:"4px",overflow:"hidden",md:{display:"none"}},a.createElement(xe.b,{sequence:t,width:200,height:265})),a.createElement(u.b,{flexShrink:"0",borderRadius:"4px",overflow:"hidden",display:"none",md:{display:"block"},xs:{display:"none !important"}},a.createElement(xe.b,{sequence:t,width:180,height:238})),a.createElement(u.b,{flexShrink:"0",borderRadius:"4px",overflow:"hidden",display:"none",xs:{display:"block"}},a.createElement(xe.b,{sequence:t,width:98,height:130})),a.createElement(u.b,{display:"flex",flexDirection:"column",marginLeft:"32px",justifyContent:"center",xs:{marginLeft:"20px",display:"flex"}},a.createElement(u.H,null,function(e){return a.createElement("div",{className:e(ye)},a.createElement(m.c,null,"About this ",t.eyebrow||"Collection"))}),t.title&&t.slug&&a.createElement(u.f,{href:Object(y.Q)(t.slug)},a.createElement(u.b,null,a.createElement(m.b,{scale:"M",roleAndWeight:"TITLE"},t.title))),t.description&&a.createElement(u.b,{marginTop:"14px",xs:{display:"none"},maxWidth:"680px"},a.createElement(m.a,{scale:"L"},t.description)))),t.description&&a.createElement(u.b,{display:"none",marginTop:"29px",xs:{display:"block"}},a.createElement(m.a,{scale:"M"},t.description)))}var _e=l()(we(),xe.a);function Ce(){var e=o()(["\n  query SequencePostRecircQuery($postId: ID!, $pagingOptions: PagingOptions) {\n    post(id: $postId) {\n      id\n      elevateRecirc(paging: $pagingOptions) {\n        items {\n          __typename\n          ... on Post {\n            ...PostListingItemRecirc_post\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return Ce=function(){return e},e}var Oe=l()(Ce(),fe.a);function Ie(e){var t=e.postId;return a.createElement(E.c,{ssr:!1,query:Oe,variables:{postId:t,pagingOptions:{limit:3}}},function(e){var t=e.loading,n=e.error,r=e.data,o=(r=void 0===r?{}:r).post;return!t&&!n&&o&&o.elevateRecirc&&o.elevateRecirc.items?a.createElement(he,{posts:o.elevateRecirc.items,sourceName:"elevate_recirc",query:Oe}):null})}var Pe=n("./src/store/actions/multiVote.js"),Se=n("./src/styles/font.js");function ke(){var e=o()(["\n  fragment TagList_tags on Tag {\n    id\n    displayTitle\n  }\n"]);return ke=function(){return e},e}var Le={padding:0,margin:0},Te={display:"inline-block",listStyleType:"none",marginRight:"8px",marginBottom:"8px"},Be=function(e){return{borderRadius:"3px",padding:"5px 10px",textDecoration:"none",color:e.baseColor.text.lighter,display:"block",background:e.baseColor.background.normal,lineHeight:"22px"}};function Fe(e){var t=e.tags;return t?a.createElement(u.H,null,function(e){return a.createElement("ul",{className:e(Le)},t.map(function(t){return t.id?a.createElement("li",{key:t.id,className:e(Te)},a.createElement("a",{href:Object(y.cb)(t.id),className:e([Be,Object(Se.r)({fontSize:15})])},t.displayTitle)):null}))}):null}var Me=l()(ke()),Re=n("./src/svg/unlisted-19px.svg"),Ue=n("./src/WatchBounds.js");function Ae(){var e=o()(["\n  fragment PostFooter_post on Post {\n    id\n    visibility\n    isPublished\n    collection {\n      name\n      description\n    }\n    sequence {\n      sequenceId\n      ...SequencePreview_sequence\n    }\n    tags {\n      ...TagList_tags\n    }\n    viewerClapCount\n    ...PostFooterActionsBar_post\n    ...PostFooterByline_post\n    ...PostFooterResponsesButton_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Ae=function(){return e},e}n.d(t,"a",function(){return De});var Ne=function(e){return{color:e.baseColor.text.normal}},qe=function(){return{marginTop:"40px",clear:"both"}},He={setClapCountsForPost:Pe.d},De=(t.b=Object(c.b)(function(e){return{clapsPerPost:e.multiVote.clapsPerPost,isAmp:e.config.isAmp}},He)(function(e){var t=e.post,n=e.isAmp,r=e.clapsPerPost,o=e.setClapCountsForPost,i=t.id,l=t.tags,s=t.sequence,c=t.visibility,g=t.isPublished,b=a.useRef(null),E=a.useContext(Ue.b);return a.useEffect(function(){E.updateWatchedBounds("footer",b,{type:"footer"})},[]),a.createElement("div",{ref:b},a.createElement(h.b,{source:{susiEntry:"follow_footer",name:"follow_footer"}},a.createElement(p.a,{rules:[qe,d.a],"style-flexDirection":"column","style-justifyContent":"center"},a.createElement(u.k,{columns:8},"UNLISTED"===c&&a.createElement(u.H,null,function(e){return a.createElement(m.a,{scale:"S"},a.createElement(Re.a,null)," ",a.createElement("span",{className:e(Ne)},"Unlisted"))}),l&&a.createElement(Fe,{tags:l}),!n&&a.createElement(X,{post:t,clapsForPost:Object(f.a)(t,r),setClapCountsForPost:o}),g&&a.createElement(a.Fragment,null,a.createElement(ce,{post:t}),a.createElement(u.b,{borderTop:"BASE_LIGHTER",paddingTop:"25px"},a.createElement(pe,{post:t})))),a.createElement(u.b,{backgroundColor:"BASE_LIGHT",marginTop:"64px"},a.createElement(u.k,null,s&&!s.hideIndex&&a.createElement(je,{sequence:s}),s?a.createElement(Ie,{postId:i}):a.createElement(ve,{postId:i}))))))}),l()(Ae(),Z,ue,de,_e,Me))},"./src/components/user/UserFollowButton.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/react/index.js"),l=n("./node_modules/graphql-tag/src/index.js"),a=n.n(l),s=n("./src/components/session/WithViewer.jsx"),c=n("./src/framework/design-system/components/index.js"),u=n("./node_modules/react-apollo/react-apollo.esm.js"),m=n("./src/framework/source/index.js"),p=n("./src/framework/reporter/index.js");function d(){var e=o()(["\n  fragment UserFollowButtonSignedIn_user on User {\n    id\n    isFollowing\n  }\n"]);return d=function(){return e},e}function f(){var e=o()(["\n  mutation unfollowUser($targetUserId: ID!) {\n    unfollowUser(targetUserId: $targetUserId) {\n      id\n      isFollowing\n    }\n  }\n"]);return f=function(){return e},e}function g(){var e=o()(["\n  mutation followUser($targetUserId: ID!) {\n    followUser(targetUserId: $targetUserId) {\n      id\n      isFollowing\n    }\n  }\n"]);return g=function(){return e},e}var b=a()(g()),E=a()(f()),h=a()(d()),v=Object(u.d)(Object(u.f)(b,{name:"followUser",props:function(e){var t=e.ownProps,n=e.followUser;return{followUser:function(){return n({variables:{targetUserId:t.user.id},optimisticResponse:{__typename:"Mutation",followUser:{__typename:"User",id:t.user.id,isFollowing:!0}}})}}}}),Object(u.f)(E,{name:"unfollowUser",props:function(e){var t=e.ownProps,n=e.unfollowUser;return{unfollowUser:function(){return n({variables:{targetUserId:t.user.id},optimisticResponse:{__typename:"Mutation",unfollowUser:{__typename:"User",id:t.user.id,isFollowing:!1}}})}}}}))(function(e){var t=e.user,n=e.followUser,r=e.unfollowUser,o=e.buttonSize,l=void 0===o?"REGULAR":o,a=e.buttonStyleFn,s=void 0===a?function(e){return e?"STRONG":"OBVIOUS"}:a,u=Object(p.c)(),d=Object(m.e)(),f=t.isFollowing,g=s(!!f),b=i.useCallback(function(){return u.event("user.followed",{targetUserId:t.id,followSource:d}),n()}),E=i.useCallback(function(){return u.event("user.unfollowed",{targetUserId:t.id,followSource:d}),r()});return i.createElement(c.c,{onClick:f?E:b,buttonStyle:g,size:l},f?"Following":"Follow")}),x=n("./src/components/susi/SusiClickable.jsx"),w=n("./src/util/routes.js");function y(){var e=o()(["\n  fragment UserFollowButtonSignedOut_post on Post {\n    ...SusiClickable_post\n  }\n  ","\n"]);return y=function(){return e},e}function j(){var e=o()(["\n  fragment UserFollowButtonSignedOut_user on User {\n    id\n    ...SusiClickable_user\n  }\n  ","\n"]);return j=function(){return e},e}var _=function(e){var t=e.buttonSize,n=void 0===t?"REGULAR":t,r=e.isObvious,o=void 0!==r&&r,l=e.user,a=e.post;return i.createElement(m.b,{source:{userId:l.id},extendSource:!0},i.createElement(x.a,{buttonSize:n,isButton:!0,isObvious:o,operation:"register",post:a,user:l,actionUrl:Object(w.bb)(l.id)},"Follow"))},C=a()(j(),x.d),O=a()(y(),x.c);function I(){var e=o()(["\n  fragment UserFollowButton_post on Post {\n    ...UserFollowButtonSignedOut_post\n  }\n  ","\n"]);return I=function(){return e},e}function P(){var e=o()(["\n  fragment UserFollowButton_user on User {\n    ...UserFollowButtonSignedIn_user\n    ...UserFollowButtonSignedOut_user\n  }\n  ","\n  ","\n"]);return P=function(){return e},e}n.d(t,"b",function(){return S}),n.d(t,"a",function(){return k});t.c=function(e){var t=e.user,n=e.buttonSize,r=void 0===n?"REGULAR":n,o=e.buttonStyleFn,l=void 0===o?function(e){return e?"STRONG":"OBVIOUS"}:o,a=e.post;return i.createElement(s.a,null,function(e){return e?i.createElement(v,{user:t,buttonSize:r,buttonStyleFn:l}):i.createElement(_,{post:a,user:t,buttonSize:r})})};var S=a()(P(),h,C),k=a()(I(),O)},"./src/svg/twitter-filled-21px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.a=function(e){e.styles;var t=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["styles"]);return o.a.createElement("svg",i({width:"21",height:"21",viewBox:"0 0 21 21",xmlns:"http://www.w3.org/2000/svg"},t),o.a.createElement("path",{d:"M18.5 4.43a6.9 6.9 0 0 1-2.18.88 3.45 3.45 0 0 0-2.55-1.12 3.49 3.49 0 0 0-3.49 3.48c0 .28.03.55.07.81a9.91 9.91 0 0 1-7.17-3.67 3.9 3.9 0 0 0-.5 1.74 3.6 3.6 0 0 0 1.56 2.92 3.36 3.36 0 0 1-1.55-.44.15.15 0 0 0 0 .06c0 1.67 1.2 3.08 2.8 3.42-.3.06-.6.1-.94.12l-.62-.06A3.5 3.5 0 0 0 7.17 15a7.33 7.33 0 0 1-4.36 1.49L2 16.44A9.96 9.96 0 0 0 7.36 18c6.4 0 9.91-5.32 9.9-9.9v-.5A6.55 6.55 0 0 0 19 5.79a6.18 6.18 0 0 1-2 .56 3.33 3.33 0 0 0 1.5-1.93"}))}}}]);
//# sourceMappingURL=screen.post~screen.post.amp~screen.post.series~screen.sequence.post.70754ef5.chunk.js.map